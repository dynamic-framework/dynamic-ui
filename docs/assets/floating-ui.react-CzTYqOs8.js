import{r as i,a as Mt}from"./index-DH5ua8nC.js";import{i as Pt,b as ee,c as At,o as Ot,s as Ft,f as Lt,d as je,g as lt,e as G,h as Ae,j as Dt,k as ft,l as Ue,m as Nt,n as _t}from"./floating-ui.dom-B5CW5bK0.js";import{r as dt}from"./index-D9uilScg.js";function z(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Y(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Pt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function mt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function vt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function $t(e){return e.mozInputSource===0&&e.isTrusted?!0:Be()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function pt(e){return Kt()?!1:!Be()&&e.width===0&&e.height===0||Be()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function gt(){return/apple/i.test(navigator.vendor)}function Be(){const e=/android/i;return e.test(mt())||e.test(vt())}function Bt(){return mt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Kt(){return vt().includes("jsdom/")}function me(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Wt(e){return"nativeEvent"in e}function Vt(e){return e.matches("html,body")}function X(e){return(e==null?void 0:e.ownerDocument)||document}function Oe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function re(e){return"composedPath"in e?e.composedPath()[0]:e.target}const qt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ve(e){return ee(e)&&e.matches(qt)}function Fe(e){e.preventDefault(),e.stopPropagation()}function Ht(e){return e?e.getAttribute("role")==="combobox"&&Ve(e):!1}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Re=jt.join(","),bt=typeof Element>"u",le=bt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,we=!bt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},xe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),u=o===""||o==="true",s=u||n&&t&&e(t.parentNode);return s},Ut=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Yt=function(t,n,r){if(xe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Re));return n&&le.call(t,Re)&&o.unshift(t),o=o.filter(r),o},Xt=function e(t,n,r){for(var o=[],u=Array.from(t);u.length;){var s=u.shift();if(!xe(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),m=a.length?a:s.children,d=e(m,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:s,candidates:d})}else{var p=le.call(s,Re);p&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var b=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),w=!xe(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(b&&w){var c=e(b===!0?s.children:b.children,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else u.unshift.apply(u,s.children)}}return o},ht=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Et=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Ut(t))&&!ht(t)?0:t.tabIndex},Gt=function(t,n){var r=Et(t);return r<0&&n&&!ht(t)?0:r},Zt=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},yt=function(t){return t.tagName==="INPUT"},Jt=function(t){return yt(t)&&t.type==="hidden"},Qt=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},zt=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},en=function(t){if(!t.name)return!0;var n=t.form||we(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var u=zt(o,t.form);return!u||u===t},tn=function(t){return yt(t)&&t.type==="radio"},nn=function(t){return tn(t)&&!en(t)},rn=function(t){var n,r=t&&we(t),o=(n=r)===null||n===void 0?void 0:n.host,u=!1;if(r&&r!==t){var s,a,m;for(u=!!((s=o)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(o)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!u&&o;){var d,p,b;r=we(o),o=(d=r)===null||d===void 0?void 0:d.host,u=!!((p=o)!==null&&p!==void 0&&(b=p.ownerDocument)!==null&&b!==void 0&&b.contains(o))}}return u},Ye=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},on=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=le.call(t,"details>summary:first-of-type"),s=u?t.parentElement:t;if(le.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=t;t;){var m=t.parentElement,d=we(t);if(m&&!m.shadowRoot&&o(m)===!0)return Ye(t);t.assignedSlot?t=t.assignedSlot:!m&&d!==t.ownerDocument?t=d.host:t=m}t=a}if(rn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ye(t);return!1},sn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return le.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},un=function(t,n){return!(n.disabled||xe(n)||Jt(n)||on(n,t)||Qt(n)||sn(n))},Ke=function(t,n){return!(nn(n)||Et(n)<0||!un(t,n))},an=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},cn=function e(t){var n=[],r=[];return t.forEach(function(o,u){var s=!!o.scopeParent,a=s?o.scopeParent:o,m=Gt(a,s),d=s?e(o.candidates):a;m===0?s?n.push.apply(n,d):n.push(a):r.push({documentOrder:u,tabIndex:m,item:o,isScope:s,content:d})}),r.sort(Zt).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(n)},Se=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Xt([t],n.includeContainer,{filter:Ke.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:an}):r=Yt(t,n.includeContainer,Ke.bind(null,n)),cn(r)},ln=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return le.call(t,Re)===!1?!1:Ke(n,t)},ye=typeof document<"u"?i.useLayoutEffect:i.useEffect;function Te(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Te(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const u=o[r];if(!(u==="_owner"&&e.$$typeof)&&!Te(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function Rt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xe(e,t){const n=Rt(e);return Math.round(t*n)/n}function Le(e){const t=i.useRef(e);return ye(()=>{t.current=e}),t}function fn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:u,floating:s}={},transform:a=!0,whileElementsMounted:m,open:d}=e,[p,b]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,c]=i.useState(r);Te(w,r)||c(r);const[v,l]=i.useState(null),[C,k]=i.useState(null),O=i.useCallback(g=>{g!==L.current&&(L.current=g,l(g))},[]),h=i.useCallback(g=>{g!==N.current&&(N.current=g,k(g))},[]),S=u||v,_=s||C,L=i.useRef(null),N=i.useRef(null),D=i.useRef(p),W=m!=null,H=Le(m),$=Le(o),y=Le(d),V=i.useCallback(()=>{if(!L.current||!N.current)return;const g={placement:t,strategy:n,middleware:w};$.current&&(g.platform=$.current),At(L.current,N.current,g).then(f=>{const I={...f,isPositioned:y.current!==!1};q.current&&!Te(D.current,I)&&(D.current=I,dt.flushSync(()=>{b(I)}))})},[w,t,n,$,y]);ye(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,b(g=>({...g,isPositioned:!1})))},[d]);const q=i.useRef(!1);ye(()=>(q.current=!0,()=>{q.current=!1}),[]),ye(()=>{if(S&&(L.current=S),_&&(N.current=_),S&&_){if(H.current)return H.current(S,_,V);V()}},[S,_,V,H,W]);const x=i.useMemo(()=>({reference:L,floating:N,setReference:O,setFloating:h}),[O,h]),F=i.useMemo(()=>({reference:S,floating:_}),[S,_]),E=i.useMemo(()=>{const g={position:n,left:0,top:0};if(!F.floating)return g;const f=Xe(F.floating,p.x),I=Xe(F.floating,p.y);return a?{...g,transform:"translate("+f+"px, "+I+"px)",...Rt(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:f,top:I}},[n,a,F.floating,p.x,p.y]);return i.useMemo(()=>({...p,update:V,refs:x,elements:F,floatingStyles:E}),[p,V,x,F,E])}const dn=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?je({element:r.current,padding:o}).fn(n):{}:r?je({element:r,padding:o}).fn(n):{}}}},_n=(e,t)=>({...Ot(e),options:[e,t]}),$n=(e,t)=>({...Ft(e),options:[e,t]}),Bn=(e,t)=>({...Lt(e),options:[e,t]}),Kn=(e,t)=>({...dn(e),options:[e,t]}),wt={...Mt},mn=wt.useInsertionEffect,vn=mn||(e=>e());function J(e){const t=i.useRef(()=>{});return vn(()=>{t.current=e}),i.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Z=typeof document<"u"?i.useLayoutEffect:i.useEffect;function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}let Ge=!1,pn=0;const Ze=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pn++;function gn(){const[e,t]=i.useState(()=>Ge?Ze():void 0);return Z(()=>{e==null&&t(Ze())},[]),i.useEffect(()=>{Ge=!0},[]),e}const bn=wt.useId,Ie=bn||gn,Wn=i.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:u,shift:s}},width:a=14,height:m=7,tipRadius:d=0,strokeWidth:p=0,staticOffset:b,stroke:w,d:c,style:{transform:v,...l}={},...C}=t,k=Ie(),[O,h]=i.useState(!1);if(Z(()=>{if(!o)return;lt(o).direction==="rtl"&&h(!0)},[o]),!o)return null;const[S,_]=r.split("-"),L=S==="top"||S==="bottom";let N=b;(L&&s!=null&&s.x||!L&&s!=null&&s.y)&&(N=null);const D=p*2,W=D/2,H=a/2*(d/-8+1),$=m/2*d/4,y=!!c,V=N&&_==="end"?"bottom":"top";let q=N&&_==="end"?"right":"left";N&&O&&(q=_==="end"?"left":"right");const x=(u==null?void 0:u.x)!=null?N||u.x:"",F=(u==null?void 0:u.y)!=null?N||u.y:"",E=c||"M0,0"+(" H"+a)+(" L"+(a-H)+","+(m-$))+(" Q"+a/2+","+m+" "+H+","+(m-$))+" Z",g={top:y?"rotate(180deg)":"",left:y?"rotate(90deg)":"rotate(-90deg)",bottom:y?"":"rotate(180deg)",right:y?"rotate(-90deg)":"rotate(90deg)"}[S];return i.createElement("svg",ve({},C,{"aria-hidden":!0,ref:n,width:y?a:a+D,height:a,viewBox:"0 0 "+a+" "+(m>a?m:a),style:{position:"absolute",pointerEvents:"none",[q]:x,[V]:F,[S]:L||y?"100%":"calc(100% - "+D/2+"px)",transform:[g,v].filter(f=>!!f).join(" "),...l}}),D>0&&i.createElement("path",{clipPath:"url(#"+k+")",fill:"none",stroke:w,strokeWidth:D+(c?0:1),d:E}),i.createElement("path",{stroke:D&&!c?C.fill:"none",d:E}),i.createElement("clipPath",{id:k},i.createElement("rect",{x:-W,y:W*(y?-1:1),width:a+D,height:a})))});function hn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const En=i.createContext(null),yn=i.createContext(null),qe=()=>{var e;return((e=i.useContext(En))==null?void 0:e.id)||null},ke=()=>i.useContext(yn);function se(e){return"data-floating-ui-"+e}function ce(e){const t=i.useRef(e);return Z(()=>{t.current=e}),t}const Je=se("safe-polygon");function De(e,t,n){return n&&!me(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Vn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:u,elements:s}=e,{enabled:a=!0,delay:m=0,handleClose:d=null,mouseOnly:p=!1,restMs:b=0,move:w=!0}=t,c=ke(),v=qe(),l=ce(d),C=ce(m),k=ce(n),O=i.useRef(),h=i.useRef(-1),S=i.useRef(),_=i.useRef(-1),L=i.useRef(!0),N=i.useRef(!1),D=i.useRef(()=>{}),W=i.useRef(!1),H=i.useCallback(()=>{var E;const g=(E=o.current.openEvent)==null?void 0:E.type;return(g==null?void 0:g.includes("mouse"))&&g!=="mousedown"},[o]);i.useEffect(()=>{if(!a)return;function E(g){let{open:f}=g;f||(clearTimeout(h.current),clearTimeout(_.current),L.current=!0,W.current=!1)}return u.on("openchange",E),()=>{u.off("openchange",E)}},[a,u]),i.useEffect(()=>{if(!a||!l.current||!n)return;function E(f){H()&&r(!1,f,"hover")}const g=X(s.floating).documentElement;return g.addEventListener("mouseleave",E),()=>{g.removeEventListener("mouseleave",E)}},[s.floating,n,r,a,l,H]);const $=i.useCallback(function(E,g,f){g===void 0&&(g=!0),f===void 0&&(f="hover");const I=De(C.current,"close",O.current);I&&!S.current?(clearTimeout(h.current),h.current=window.setTimeout(()=>r(!1,E,f),I)):g&&(clearTimeout(h.current),r(!1,E,f))},[C,r]),y=J(()=>{D.current(),S.current=void 0}),V=J(()=>{if(N.current){const E=X(s.floating).body;E.style.pointerEvents="",E.removeAttribute(Je),N.current=!1}}),q=J(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);i.useEffect(()=>{if(!a)return;function E(T){if(clearTimeout(h.current),L.current=!1,p&&!me(O.current)||b>0&&!De(C.current,"open"))return;const K=De(C.current,"open",O.current);K?h.current=window.setTimeout(()=>{k.current||r(!0,T,"hover")},K):n||r(!0,T,"hover")}function g(T){if(q())return;D.current();const K=X(s.floating);if(clearTimeout(_.current),W.current=!1,l.current&&o.current.floatingContext){n||clearTimeout(h.current),S.current=l.current({...o.current.floatingContext,tree:c,x:T.clientX,y:T.clientY,onClose(){V(),y(),q()||$(T,!0,"safe-polygon")}});const M=S.current;K.addEventListener("mousemove",M),D.current=()=>{K.removeEventListener("mousemove",M)};return}(O.current==="touch"?!Y(s.floating,T.relatedTarget):!0)&&$(T)}function f(T){q()||o.current.floatingContext&&(l.current==null||l.current({...o.current.floatingContext,tree:c,x:T.clientX,y:T.clientY,onClose(){V(),y(),q()||$(T)}})(T))}if(G(s.domReference)){var I;const T=s.domReference;return n&&T.addEventListener("mouseleave",f),(I=s.floating)==null||I.addEventListener("mouseleave",f),w&&T.addEventListener("mousemove",E,{once:!0}),T.addEventListener("mouseenter",E),T.addEventListener("mouseleave",g),()=>{var K;n&&T.removeEventListener("mouseleave",f),(K=s.floating)==null||K.removeEventListener("mouseleave",f),w&&T.removeEventListener("mousemove",E),T.removeEventListener("mouseenter",E),T.removeEventListener("mouseleave",g)}}},[s,a,e,p,b,w,$,y,V,r,n,k,c,C,l,o,q]),Z(()=>{var E;if(a&&n&&(E=l.current)!=null&&E.__options.blockPointerEvents&&H()){N.current=!0;const f=s.floating;if(G(s.domReference)&&f){var g;const I=X(s.floating).body;I.setAttribute(Je,"");const T=s.domReference,K=c==null||(g=c.nodesRef.current.find(te=>te.id===v))==null||(g=g.context)==null?void 0:g.elements.floating;return K&&(K.style.pointerEvents=""),I.style.pointerEvents="none",T.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{I.style.pointerEvents="",T.style.pointerEvents="",f.style.pointerEvents=""}}}},[a,n,v,s,c,l,H]),Z(()=>{n||(O.current=void 0,W.current=!1,y(),V())},[n,y,V]),i.useEffect(()=>()=>{y(),clearTimeout(h.current),clearTimeout(_.current),V()},[a,s.domReference,y,V]);const x=i.useMemo(()=>{function E(g){O.current=g.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(g){const{nativeEvent:f}=g;function I(){!L.current&&!k.current&&r(!0,f,"hover")}p&&!me(O.current)||n||b===0||W.current&&g.movementX**2+g.movementY**2<2||(clearTimeout(_.current),O.current==="touch"?I():(W.current=!0,_.current=window.setTimeout(I,b)))}}},[p,r,n,k,b]),F=i.useMemo(()=>({onMouseEnter(){clearTimeout(h.current)},onMouseLeave(E){q()||$(E.nativeEvent,!1)}}),[$,q]);return i.useMemo(()=>a?{reference:x,floating:F}:{},[a,x,F])}let Qe=0;function ue(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Qe);const u=()=>e==null?void 0:e.focus({preventScroll:n});o?u():Qe=requestAnimationFrame(u)}function Rn(e,t){var n;let r=[],o=(n=e.find(u=>u.id===t))==null?void 0:n.parentId;for(;o;){const u=e.find(s=>s.id===o);o=u==null?void 0:u.parentId,u&&(r=r.concat(u))}return r}function fe(e,t){let n=e.filter(o=>{var u;return o.parentId===t&&((u=o.context)==null?void 0:u.open)}),r=n;for(;r.length;)r=e.filter(o=>{var u;return(u=r)==null?void 0:u.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let ae=new WeakMap,he=new WeakSet,Ee={},Ne=0;const wn=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,xt=e=>e&&(e.host||xt(e.parentNode)),xn=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=xt(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Tn(e,t,n,r){const o="data-floating-ui-inert",u=r?"inert":n?"aria-hidden":null,s=xn(t,e),a=new Set,m=new Set(s),d=[];Ee[o]||(Ee[o]=new WeakMap);const p=Ee[o];s.forEach(b),w(t),a.clear();function b(c){!c||a.has(c)||(a.add(c),c.parentNode&&b(c.parentNode))}function w(c){!c||m.has(c)||[].forEach.call(c.children,v=>{if(ft(v)!=="script")if(a.has(v))w(v);else{const l=u?v.getAttribute(u):null,C=l!==null&&l!=="false",k=(ae.get(v)||0)+1,O=(p.get(v)||0)+1;ae.set(v,k),p.set(v,O),d.push(v),k===1&&C&&he.add(v),O===1&&v.setAttribute(o,""),!C&&u&&v.setAttribute(u,"true")}})}return Ne++,()=>{d.forEach(c=>{const v=(ae.get(c)||0)-1,l=(p.get(c)||0)-1;ae.set(c,v),p.set(c,l),v||(!he.has(c)&&u&&c.removeAttribute(u),he.delete(c)),l||c.removeAttribute(o)}),Ne--,Ne||(ae=new WeakMap,ae=new WeakMap,he=new WeakSet,Ee={})}}function ze(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=X(e[0]).body;return Tn(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const pe=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Tt(e,t){const n=Se(e,pe());t==="prev"&&n.reverse();const r=n.indexOf(z(X(e)));return n.slice(r+1)[0]}function Ct(){return Tt(document.body,"next")}function St(){return Tt(document.body,"prev")}function de(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Y(n,r)}function Cn(e){Se(e,pe()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function et(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Me={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Sn;function tt(e){e.key==="Tab"&&(e.target,clearTimeout(Sn))}const Ce=i.forwardRef(function(t,n){const[r,o]=i.useState();Z(()=>(gt()&&o("button"),document.addEventListener("keydown",tt),()=>{document.removeEventListener("keydown",tt)}),[]);const u={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[se("focus-guard")]:"",style:Me};return i.createElement("span",ve({},t,u))}),It=i.createContext(null),nt=se("portal");function In(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ie(),o=kt(),[u,s]=i.useState(null),a=i.useRef(null);return Z(()=>()=>{u==null||u.remove(),queueMicrotask(()=>{a.current=null})},[u]),Z(()=>{if(!r||a.current)return;const m=t?document.getElementById(t):null;if(!m)return;const d=document.createElement("div");d.id=r,d.setAttribute(nt,""),m.appendChild(d),a.current=d,s(d)},[t,r]),Z(()=>{if(n===null||!r||a.current)return;let m=n||(o==null?void 0:o.portalNode);m&&!G(m)&&(m=m.current),m=m||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,m.appendChild(d));const p=document.createElement("div");p.id=r,p.setAttribute(nt,""),m=d||m,m.appendChild(p),a.current=p,s(p)},[t,n,r,o]),u}function qn(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,u=In({id:n,root:r}),[s,a]=i.useState(null),m=i.useRef(null),d=i.useRef(null),p=i.useRef(null),b=i.useRef(null),w=s==null?void 0:s.modal,c=s==null?void 0:s.open,v=!!s&&!s.modal&&s.open&&o&&!!(r||u);return i.useEffect(()=>{if(!u||!o||w)return;function l(C){u&&de(C)&&(C.type==="focusin"?et:Cn)(u)}return u.addEventListener("focusin",l,!0),u.addEventListener("focusout",l,!0),()=>{u.removeEventListener("focusin",l,!0),u.removeEventListener("focusout",l,!0)}},[u,o,w]),i.useEffect(()=>{u&&(c||et(u))},[c,u]),i.createElement(It.Provider,{value:i.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:m,afterOutsideRef:d,beforeInsideRef:p,afterInsideRef:b,portalNode:u,setFocusManagerState:a}),[o,u])},v&&u&&i.createElement(Ce,{"data-type":"outside",ref:m,onFocus:l=>{if(de(l,u)){var C;(C=p.current)==null||C.focus()}else{const k=St()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus()}}}),v&&u&&i.createElement("span",{"aria-owns":u.id,style:Me}),u&&dt.createPortal(t,u),v&&u&&i.createElement(Ce,{"data-type":"outside",ref:d,onFocus:l=>{if(de(l,u)){var C;(C=b.current)==null||C.focus()}else{const k=Ct()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent,"focus-out"))}}}))}const kt=()=>i.useContext(It),We="data-floating-ui-focusable";function kn(e){return e?e.hasAttribute(We)?e:e.querySelector("["+We+"]")||e:null}const rt=20;let oe=[];function _e(e){oe=oe.filter(n=>n.isConnected);let t=e;if(!(!t||ft(t)==="body")){if(!ln(t,pe())){const n=Se(t,pe())[0];n&&(t=n)}oe.push(t),oe.length>rt&&(oe=oe.slice(-rt))}}function ot(){return oe.slice().reverse().find(e=>e.isConnected)}const Mn=i.forwardRef(function(t,n){return i.createElement("button",ve({},t,{type:"button",ref:n,tabIndex:-1,style:Me}))});function Hn(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:u=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:m=!1,modal:d=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:b=!0}=e,{open:w,refs:c,nodeId:v,onOpenChange:l,events:C,dataRef:k,floatingId:O,elements:{domReference:h,floating:S}}=t,_=typeof s=="number"&&s<0,L=Ht(h)&&_,N=wn()?u:!0,D=ce(o),W=ce(s),H=ce(a),$=ke(),y=kt(),V=i.useRef(null),q=i.useRef(null),x=i.useRef(!1),F=i.useRef(!1),E=i.useRef(-1),g=y!=null,f=kn(S),I=J(function(M){return M===void 0&&(M=f),M?Se(M,pe()):[]}),T=J(M=>{const A=I(M);return D.current.map(R=>h&&R==="reference"?h:f&&R==="floating"?f:A).filter(Boolean).flat()});i.useEffect(()=>{if(r||!d)return;function M(R){if(R.key==="Tab"){Y(f,z(X(f)))&&I().length===0&&!L&&Fe(R);const P=T(),B=re(R);D.current[0]==="reference"&&B===h&&(Fe(R),R.shiftKey?ue(P[P.length-1]):ue(P[1])),D.current[1]==="floating"&&B===f&&R.shiftKey&&(Fe(R),ue(P[0]))}}const A=X(f);return A.addEventListener("keydown",M),()=>{A.removeEventListener("keydown",M)}},[r,h,f,d,D,L,I,T]),i.useEffect(()=>{if(r||!S)return;function M(A){const R=re(A),B=I().indexOf(R);B!==-1&&(E.current=B)}return S.addEventListener("focusin",M),()=>{S.removeEventListener("focusin",M)}},[r,S,I]),i.useEffect(()=>{if(r||!b)return;function M(){F.current=!0,setTimeout(()=>{F.current=!1})}function A(R){const P=R.relatedTarget;queueMicrotask(()=>{const B=!(Y(h,P)||Y(S,P)||Y(P,S)||Y(y==null?void 0:y.portalNode,P)||P!=null&&P.hasAttribute(se("focus-guard"))||$&&(fe($.nodesRef.current,v).find(U=>{var j,Q;return Y((j=U.context)==null?void 0:j.elements.floating,P)||Y((Q=U.context)==null?void 0:Q.elements.domReference,P)})||Rn($.nodesRef.current,v).find(U=>{var j,Q;return((j=U.context)==null?void 0:j.elements.floating)===P||((Q=U.context)==null?void 0:Q.elements.domReference)===P})));if(m&&B&&z(X(f))===X(f).body){ee(f)&&f.focus();const U=E.current,j=I(),Q=j[U]||j[j.length-1]||f;ee(Q)&&Q.focus()}(L||!d)&&P&&B&&!F.current&&P!==ot()&&(x.current=!0,l(!1,R,"focus-out"))})}if(S&&ee(h))return h.addEventListener("focusout",A),h.addEventListener("pointerdown",M),S.addEventListener("focusout",A),()=>{h.removeEventListener("focusout",A),h.removeEventListener("pointerdown",M),S.removeEventListener("focusout",A)}},[r,h,S,f,d,v,$,y,l,b,m,I,L]),i.useEffect(()=>{var M;if(r)return;const A=Array.from((y==null||(M=y.portalNode)==null?void 0:M.querySelectorAll("["+se("portal")+"]"))||[]);if(S){const R=[S,...A,V.current,q.current,D.current.includes("reference")||L?h:null].filter(B=>B!=null),P=d||L?ze(R,N,!N):ze(R);return()=>{P()}}},[r,h,S,d,D,y,L,N]),Z(()=>{if(r||!ee(f))return;const M=X(f),A=z(M);queueMicrotask(()=>{const R=T(f),P=W.current,B=(typeof P=="number"?R[P]:P.current)||f,U=Y(f,A);!_&&!U&&w&&ue(B,{preventScroll:B===f})})},[r,w,f,_,T,W]),Z(()=>{if(r||!f)return;let M=!1;const A=X(f),R=z(A);let B=k.current.openEvent;_e(R);function U(ie){let{open:ge,reason:be,event:ne,nested:Pe}=ie;ge&&(B=ne),be==="escape-key"&&c.domReference.current&&_e(c.domReference.current),be==="hover"&&ne.type==="mouseleave"&&(x.current=!0),be==="outside-press"&&(Pe?(x.current=!1,M=!0):x.current=!($t(ne)||pt(ne)))}C.on("openchange",U);const j=A.createElement("span");j.setAttribute("tabindex","-1"),j.setAttribute("aria-hidden","true"),Object.assign(j.style,Me),g&&h&&h.insertAdjacentElement("afterend",j);function Q(){return typeof H.current=="boolean"?ot()||j:H.current.current||j}return()=>{C.off("openchange",U);const ie=z(A),ge=Y(S,ie)||$&&fe($.nodesRef.current,v).some(Pe=>{var He;return Y((He=Pe.context)==null?void 0:He.elements.floating,ie)});(ge||B&&["click","mousedown"].includes(B.type))&&c.domReference.current&&_e(c.domReference.current);const ne=Q();queueMicrotask(()=>{H.current&&!x.current&&ee(ne)&&(!(ne!==ie&&ie!==A.body)||ge)&&ne.focus({preventScroll:M}),j.remove()})}},[r,S,f,H,k,c,C,$,v,g,h]),i.useEffect(()=>{queueMicrotask(()=>{x.current=!1})},[r]),Z(()=>{if(!r&&y)return y.setFocusManagerState({modal:d,closeOnFocusOut:b,open:w,onOpenChange:l,refs:c}),()=>{y.setFocusManagerState(null)}},[r,y,d,w,l,c,b]),Z(()=>{if(r||!f||typeof MutationObserver!="function"||_)return;const M=()=>{const R=f.getAttribute("tabindex"),P=I(),B=z(X(S)),U=P.indexOf(B);U!==-1&&(E.current=U),D.current.includes("floating")||B!==c.domReference.current&&P.length===0?R!=="0"&&f.setAttribute("tabindex","0"):R!=="-1"&&f.setAttribute("tabindex","-1")};M();const A=new MutationObserver(M);return A.observe(f,{childList:!0,subtree:!0,attributes:!0}),()=>{A.disconnect()}},[r,S,f,c,D,I,_]);function K(M){return r||!p||!d?null:i.createElement(Mn,{ref:M==="start"?V:q,onClick:A=>l(!1,A.nativeEvent)},typeof p=="string"?p:"Dismiss")}const te=!r&&N&&(d?!L:!0)&&(g||d);return i.createElement(i.Fragment,null,te&&i.createElement(Ce,{"data-type":"inside",ref:y==null?void 0:y.beforeInsideRef,onFocus:M=>{if(d){const R=T();ue(o[0]==="reference"?R[0]:R[R.length-1])}else if(y!=null&&y.preserveTabOrder&&y.portalNode)if(x.current=!1,de(M,y.portalNode)){const R=Ct()||h;R==null||R.focus()}else{var A;(A=y.beforeOutsideRef.current)==null||A.focus()}}}),!L&&K("start"),n,K("end"),te&&i.createElement(Ce,{"data-type":"inside",ref:y==null?void 0:y.afterInsideRef,onFocus:M=>{if(d)ue(T()[0]);else if(y!=null&&y.preserveTabOrder&&y.portalNode)if(b&&(x.current=!0),de(M,y.portalNode)){const R=St()||h;R==null||R.focus()}else{var A;(A=y.afterOutsideRef.current)==null||A.focus()}}}))}function st(e){return ee(e.target)&&e.target.tagName==="BUTTON"}function it(e){return Ve(e)}function jn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:u}}=e,{enabled:s=!0,event:a="click",toggle:m=!0,ignoreMouse:d=!1,keyboardHandlers:p=!0,stickIfOpen:b=!0}=t,w=i.useRef(),c=i.useRef(!1),v=i.useMemo(()=>({onPointerDown(l){w.current=l.pointerType},onMouseDown(l){const C=w.current;l.button===0&&a!=="click"&&(me(C,!0)&&d||(n&&m&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent,"click"):(l.preventDefault(),r(!0,l.nativeEvent,"click"))))},onClick(l){const C=w.current;if(a==="mousedown"&&w.current){w.current=void 0;return}me(C,!0)&&d||(n&&m&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="click")?r(!1,l.nativeEvent,"click"):r(!0,l.nativeEvent,"click"))},onKeyDown(l){w.current=void 0,!(l.defaultPrevented||!p||st(l))&&(l.key===" "&&!it(u)&&(l.preventDefault(),c.current=!0),l.key==="Enter"&&r(!(n&&m),l.nativeEvent,"click"))},onKeyUp(l){l.defaultPrevented||!p||st(l)||it(u)||l.key===" "&&c.current&&(c.current=!1,r(!(n&&m),l.nativeEvent,"click"))}}),[o,u,a,d,p,r,n,b,m]);return i.useMemo(()=>s?{reference:v}:{},[s,v])}const Pn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},An={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ut=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Un(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:u}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:m=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:b="pointerdown",ancestorScroll:w=!1,bubbles:c,capture:v}=t,l=ke(),C=J(typeof m=="function"?m:()=>!1),k=typeof m=="function"?C:m,O=i.useRef(!1),h=i.useRef(!1),{escapeKey:S,outsidePress:_}=ut(c),{escapeKey:L,outsidePress:N}=ut(v),D=i.useRef(!1),W=J(x=>{var F;if(!n||!s||!a||x.key!=="Escape"||D.current)return;const E=(F=u.current.floatingContext)==null?void 0:F.nodeId,g=l?fe(l.nodesRef.current,E):[];if(!S&&(x.stopPropagation(),g.length>0)){let f=!0;if(g.forEach(I=>{var T;if((T=I.context)!=null&&T.open&&!I.context.dataRef.current.__escapeKeyBubbles){f=!1;return}}),!f)return}r(!1,Wt(x)?x.nativeEvent:x,"escape-key")}),H=J(x=>{var F;const E=()=>{var g;W(x),(g=re(x))==null||g.removeEventListener("keydown",E)};(F=re(x))==null||F.addEventListener("keydown",E)}),$=J(x=>{var F;const E=O.current;O.current=!1;const g=h.current;if(h.current=!1,d==="click"&&g||E||typeof k=="function"&&!k(x))return;const f=re(x),I="["+se("inert")+"]",T=X(o.floating).querySelectorAll(I);let K=G(f)?f:null;for(;K&&!Ue(K);){const R=Nt(K);if(Ue(R)||!G(R))break;K=R}if(T.length&&G(f)&&!Vt(f)&&!Y(f,o.floating)&&Array.from(T).every(R=>!Y(K,R)))return;if(ee(f)&&q){const R=f.clientWidth>0&&f.scrollWidth>f.clientWidth,P=f.clientHeight>0&&f.scrollHeight>f.clientHeight;let B=P&&x.offsetX>f.clientWidth;if(P&&lt(f).direction==="rtl"&&(B=x.offsetX<=f.offsetWidth-f.clientWidth),B||R&&x.offsetY>f.clientHeight)return}const te=(F=u.current.floatingContext)==null?void 0:F.nodeId,M=l&&fe(l.nodesRef.current,te).some(R=>{var P;return Oe(x,(P=R.context)==null?void 0:P.elements.floating)});if(Oe(x,o.floating)||Oe(x,o.domReference)||M)return;const A=l?fe(l.nodesRef.current,te):[];if(A.length>0){let R=!0;if(A.forEach(P=>{var B;if((B=P.context)!=null&&B.open&&!P.context.dataRef.current.__outsidePressBubbles){R=!1;return}}),!R)return}r(!1,x,"outside-press")}),y=J(x=>{var F;const E=()=>{var g;$(x),(g=re(x))==null||g.removeEventListener(d,E)};(F=re(x))==null||F.addEventListener(d,E)});i.useEffect(()=>{if(!n||!s)return;u.current.__escapeKeyBubbles=S,u.current.__outsidePressBubbles=_;let x=-1;function F(T){r(!1,T,"ancestor-scroll")}function E(){window.clearTimeout(x),D.current=!0}function g(){x=window.setTimeout(()=>{D.current=!1},_t()?5:0)}const f=X(o.floating);a&&(f.addEventListener("keydown",L?H:W,L),f.addEventListener("compositionstart",E),f.addEventListener("compositionend",g)),k&&f.addEventListener(d,N?y:$,N);let I=[];return w&&(G(o.domReference)&&(I=Ae(o.domReference)),G(o.floating)&&(I=I.concat(Ae(o.floating))),!G(o.reference)&&o.reference&&o.reference.contextElement&&(I=I.concat(Ae(o.reference.contextElement)))),I=I.filter(T=>{var K;return T!==((K=f.defaultView)==null?void 0:K.visualViewport)}),I.forEach(T=>{T.addEventListener("scroll",F,{passive:!0})}),()=>{a&&(f.removeEventListener("keydown",L?H:W,L),f.removeEventListener("compositionstart",E),f.removeEventListener("compositionend",g)),k&&f.removeEventListener(d,N?y:$,N),I.forEach(T=>{T.removeEventListener("scroll",F)}),window.clearTimeout(x)}},[u,o,a,k,d,n,r,w,s,S,_,W,L,H,$,N,y]),i.useEffect(()=>{O.current=!1},[k,d]);const V=i.useMemo(()=>({onKeyDown:W,[Pn[b]]:x=>{p&&r(!1,x.nativeEvent,"reference-press")}}),[W,r,p,b]),q=i.useMemo(()=>({onKeyDown:W,onMouseDown(){h.current=!0},onMouseUp(){h.current=!0},[An[d]]:()=>{O.current=!0}}),[W,d]);return i.useMemo(()=>s?{reference:V,floating:q}:{},[s,V,q])}function On(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Ie(),u=i.useRef({}),[s]=i.useState(()=>hn()),a=qe()!=null,[m,d]=i.useState(r.reference),p=J((c,v,l)=>{u.current.openEvent=c?v:void 0,s.emit("openchange",{open:c,event:v,reason:l,nested:a}),n==null||n(c,v,l)}),b=i.useMemo(()=>({setPositionReference:d}),[]),w=i.useMemo(()=>({reference:m||r.reference||null,floating:r.floating||null,domReference:r.reference}),[m,r.reference,r.floating]);return i.useMemo(()=>({dataRef:u,open:t,onOpenChange:p,elements:w,events:s,floatingId:o,refs:b}),[t,p,w,s,o,b])}function Yn(e){e===void 0&&(e={});const{nodeId:t}=e,n=On({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[u,s]=i.useState(null),[a,m]=i.useState(null),p=(o==null?void 0:o.domReference)||u,b=i.useRef(null),w=ke();Z(()=>{p&&(b.current=p)},[p]);const c=fn({...e,elements:{...o,...a&&{reference:a}}}),v=i.useCallback(h=>{const S=G(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;m(S),c.refs.setReference(S)},[c.refs]),l=i.useCallback(h=>{(G(h)||h===null)&&(b.current=h,s(h)),(G(c.refs.reference.current)||c.refs.reference.current===null||h!==null&&!G(h))&&c.refs.setReference(h)},[c.refs]),C=i.useMemo(()=>({...c.refs,setReference:l,setPositionReference:v,domReference:b}),[c.refs,l,v]),k=i.useMemo(()=>({...c.elements,domReference:p}),[c.elements,p]),O=i.useMemo(()=>({...c,...r,refs:C,elements:k,nodeId:t}),[c,C,k,t,r]);return Z(()=>{r.dataRef.current.floatingContext=O;const h=w==null?void 0:w.nodesRef.current.find(S=>S.id===t);h&&(h.context=O)}),i.useMemo(()=>({...c,context:O,refs:C,elements:k}),[c,C,k,O])}function Xn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:u,elements:s}=e,{enabled:a=!0,visibleOnly:m=!0}=t,d=i.useRef(!1),p=i.useRef(),b=i.useRef(!0);i.useEffect(()=>{if(!a)return;const c=Dt(s.domReference);function v(){!n&&ee(s.domReference)&&s.domReference===z(X(s.domReference))&&(d.current=!0)}function l(){b.current=!0}return c.addEventListener("blur",v),c.addEventListener("keydown",l,!0),()=>{c.removeEventListener("blur",v),c.removeEventListener("keydown",l,!0)}},[s.domReference,n,a]),i.useEffect(()=>{if(!a)return;function c(v){let{reason:l}=v;(l==="reference-press"||l==="escape-key")&&(d.current=!0)}return o.on("openchange",c),()=>{o.off("openchange",c)}},[o,a]),i.useEffect(()=>()=>{clearTimeout(p.current)},[]);const w=i.useMemo(()=>({onPointerDown(c){pt(c.nativeEvent)||(b.current=!1)},onMouseLeave(){d.current=!1},onFocus(c){if(d.current)return;const v=re(c.nativeEvent);if(m&&G(v))try{if(gt()&&Bt())throw Error();if(!v.matches(":focus-visible"))return}catch{if(!b.current&&!Ve(v))return}r(!0,c.nativeEvent,"focus")},onBlur(c){d.current=!1;const v=c.relatedTarget,l=c.nativeEvent,C=G(v)&&v.hasAttribute(se("focus-guard"))&&v.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var k;const O=z(s.domReference?s.domReference.ownerDocument:document);!v&&O===s.domReference||Y((k=u.current.floatingContext)==null?void 0:k.refs.floating.current,O)||Y(s.domReference,O)||C||r(!1,l,"focus")})}}),[u,s.domReference,r,m]);return i.useMemo(()=>a?{reference:w}:{},[a,w])}const at="active",ct="selected";function $e(e,t,n){const r=new Map,o=n==="item";let u=e;if(o&&e){const{[at]:s,[ct]:a,...m}=e;u=m}return{...n==="floating"&&{tabIndex:-1,[We]:""},...u,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(m=>{let[d,p]=m;if(!(o&&[at,ct].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof p=="function"){var b;(b=r.get(d))==null||b.push(p),s[d]=function(){for(var w,c=arguments.length,v=new Array(c),l=0;l<c;l++)v[l]=arguments[l];return(w=r.get(d))==null?void 0:w.map(C=>C(...v)).find(C=>C!==void 0)}}}else s[d]=p}),s),{})}}function Gn(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=i.useCallback(a=>$e(a,e,"reference"),t),u=i.useCallback(a=>$e(a,e,"floating"),n),s=i.useCallback(a=>$e(a,e,"item"),r);return i.useMemo(()=>({getReferenceProps:o,getFloatingProps:u,getItemProps:s}),[o,u,s])}const Fn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Zn(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:u=!0,role:s="dialog"}=t,a=(n=Fn.get(s))!=null?n:s,m=Ie(),p=qe()!=null,b=i.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?o:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:m},...a==="menu"&&p&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,o,p,r,m,s]),w=i.useMemo(()=>{const v={id:o,...a&&{role:a}};return a==="tooltip"||s==="label"?v:{...v,...a==="menu"&&{"aria-labelledby":m}}},[a,o,m,s]),c=i.useCallback(v=>{let{active:l,selected:C}=v;const k={role:"option",...l&&{id:o+"-option"}};switch(s){case"select":return{...k,"aria-selected":l&&C};case"combobox":return{...k,...l&&{"aria-selected":!0}}}return{}},[o,s]);return i.useMemo(()=>u?{reference:b,floating:w,item:c}:{},[u,b,w,c])}export{Hn as F,jn as a,Un as b,Zn as c,Gn as d,Ie as e,Bn as f,Vn as g,Xn as h,qn as i,Wn as j,Kn as k,_n as o,$n as s,Yn as u};
