import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as u}from"./iframe-B2wa2xAh.js";import{D as g}from"./DButtonIcon-BgBFjf6q.js";import{D as m}from"./DIcon-B1B6J-as.js";const f=t=>`dropdown-item d-flex align-items-center 
  ${t.color?`dropdown-item-${t.color}`:""} ${t.disabled?"disabled":""}`;function w({actions:t,dropdownToggle:l,className:b}){const[o,i]=u.useState(!1),a=u.useRef(null),[d,c]=u.useState("down");u.useEffect(()=>{const e=r=>{a.current&&!a.current.contains(r.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),u.useEffect(()=>{if(o&&a.current){const e=a.current.getBoundingClientRect(),r=window.innerHeight-e.bottom,n=window.innerWidth-e.right;r<150?c("up"):n<150?c("start"):c("down")}},[o]);let p;return l?typeof l=="function"?p=l({open:o,toggle:()=>i(!o)}):p=l:p=s.jsx(g,{variant:"link",stopPropagationEnabled:!1,onClick:()=>i(!o),icon:"MoreVertical"}),s.jsxs("div",{className:`dropdown position-relative drop-${d} ${b}`,ref:a,children:[p,s.jsx("ul",{style:{position:"absolute",top:d==="up"?"auto":"100%",bottom:d==="up"?"100%":"auto",left:d==="start"?"auto":0,right:d==="start"?"0":"auto",transform:"translateY(4px)"},className:`dropdown-menu p-2 ${o?"show":""}`,children:t.map((e,r)=>e.isDivider?s.jsx("hr",{className:"dropdown-divider"},r):s.jsx("li",{children:e.href?s.jsxs("a",{className:f(e),href:e.href,onClick:n=>{e.disabled?n.preventDefault():i(!1)},children:[e.icon&&s.jsx(m,{icon:e.icon,className:"me-2",size:"1rem"}),e.label]}):s.jsxs("button",{className:f(e),type:"button",onClick:()=>{var n;e.disabled||((n=e.onClick)==null||n.call(e),i(!1))},disabled:e.disabled,children:[e.icon&&s.jsx(m,{icon:e.icon,className:"me-2",size:"1rem"}),e.label]})},r))})]})}try{w.displayName="DDropdown",w.__docgenInfo={description:"",displayName:"DDropdown",props:{actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"DropdownAction[]"}},dropdownToggle:{defaultValue:null,description:"",name:"dropdownToggle",required:!1,type:{name:"((props: { open: boolean; toggle: () => void; }) => ReactNode) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}export{w as D};
