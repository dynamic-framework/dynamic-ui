import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./iframe-BoI9rBkg.js";import{c as I}from"./index-Coi0ap-5.js";function N({id:c,label:b="",placeholder:D,type:u="text",disabled:j=!1,loading:y=!1,secret:S=!1,characters:o=4,innerInputMode:_="text",hint:x,invalid:C=!1,valid:P=!1,className:k,style:w,dataAttributes:A,onChange:f}){const V=l.useId(),m=l.useMemo(()=>c||V,[c,V]),[g,M]=l.useState(""),[v,p]=l.useState(Array.from({length:o}).fill("")),q=l.useMemo(()=>u==="number"||u==="tel",[u]);l.useEffect(()=>{M(u==="number"?"[0-9]+":"^[a-zA-Z0-9]+$")},[u]);const h=l.useCallback(n=>{const e=n.join("");f==null||f(e)},[f]);l.useEffect(()=>{h(v)},[v,h]);const F=l.useCallback(n=>{n.preventDefault();const e=n.clipboardData.getData("text/plain"),a=q?e.replace(/[^0-9]/gmi,""):e,t=Array.from({length:o}).map((s,r)=>a[r]||"");p(t),n.currentTarget.blur()},[o,q]),E=l.useCallback((n,e)=>{var s;const a=new RegExp(g),t=n.currentTarget;a.test(t.value)||(t.value=""),t.value!==""&&(p(r=>{const d=[...r];return d[e]=t.value,d}),t.nextSibling?(s=t.nextSibling)==null||s.focus():t.blur())},[g]),$=l.useCallback(({key:n,currentTarget:e},a)=>{var t;if(n==="Backspace"){const{value:s}=e;p(r=>{const d=[...r];return d[a]="",d}),e.previousSibling&&s===""?(t=e.previousSibling)==null||t.focus():(e.blur(),e.focus())}},[]),O=l.useCallback(n=>{p(e=>{const a=[...e];return a[n]="",a})},[]),L=l.useCallback(n=>{n.currentTarget.blur()},[]);return i.jsxs("div",{className:I("d-input-pin",k),style:w,...A,children:[b&&i.jsx("label",{htmlFor:"pinIndex0",children:b}),i.jsxs("div",{className:"d-input-pin-group",id:m,children:[Array.from({length:o}).map((n,e)=>i.jsx("input",{className:I({"form-control":!0,"is-invalid":C,"is-valid":P}),value:v[e],type:S?"password":u,"aria-describedby":`${m}State`,inputMode:_,id:`pinIndex${e}`,name:`pin-${e}`,maxLength:1,onInput:a=>E(a,e),onKeyDown:a=>$(a,e),onFocus:()=>O(e),onWheel:L,onClick:a=>a.preventDefault(),onPaste:a=>F(a),autoComplete:"off",placeholder:D,disabled:j||y,required:!0,...u==="number"&&{min:0,max:9}},e)),y&&i.jsx("div",{className:"input-group-text",children:i.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}),x&&i.jsx("div",{className:"form-text",id:`${m}Hint`,children:x})]})}try{N.displayName="DInputPin",N.__docgenInfo={description:"",displayName:"DInputPin",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},dataAttributes:{defaultValue:null,description:"",name:"dataAttributes",required:!1,type:{name:"DataAttributes | undefined"}},iconFamilyClass:{defaultValue:null,description:"",name:"iconFamilyClass",required:!1,type:{name:"string | undefined"}},iconFamilyPrefix:{defaultValue:null,description:"",name:"iconFamilyPrefix",required:!1,type:{name:"string | undefined"}},iconMaterialStyle:{defaultValue:null,description:"",name:"iconMaterialStyle",required:!1,type:{name:"boolean | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"number"'},{value:'"text"'},{value:'"tel"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean | undefined"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}},secret:{defaultValue:{value:"false"},description:"",name:"secret",required:!1,type:{name:"boolean | undefined"}},characters:{defaultValue:{value:"4"},description:"",name:"characters",required:!1,type:{name:"number | undefined"}},innerInputMode:{defaultValue:{value:"text"},description:"",name:"innerInputMode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"text"'},{value:'"tel"'},{value:'"numeric"'}]}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"string | undefined"}},invalid:{defaultValue:{value:"false"},description:"",name:"invalid",required:!1,type:{name:"boolean | undefined"}},valid:{defaultValue:{value:"false"},description:"",name:"valid",required:!1,type:{name:"boolean | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void) | undefined"}}}}}catch{}export{N as D};
