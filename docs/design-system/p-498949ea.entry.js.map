{"version":3,"names":["MInput","this","changeHandler","event","mChange","emit","target","value","blurHandler","mBlur","focusHandler","mFocus","wheelHandler","mWheel","iconStartClickHandler","mIconStartClick","iconEndClickHandler","mIconEndClick","async","_a","htmlInputElement","focus","blur","componentWillLoad","inputStart","el","querySelector","inputEnd","render","h","class","label","htmlFor","mId","labelIcon","icon","size","PREFIX_BS","familyClass","labelIconFamilyClass","familyPrefix","labelIconFamilyPrefix","isInvalid","disabled","isDisabled","isLoading","name","iconStart","type","id","onClick","iconStartFamilyClass","iconStartFamilyPrefix","ref","isValid","placeholder","readOnly","isReadOnly","inputmode","mInputMode","pattern","onInput","onBlur","onFocus","onWheel","iconEnd","iconFamilyClass","iconFamilyPrefix","iconEndFamilyClass","iconEndFamilyPrefix","role","hint"],"sources":["./src/components/m-input/m-input.tsx"],"sourcesContent":["import type { ComponentInterface, EventEmitter } from '@stencil/core';\nimport {\n  Component,\n  h,\n  Prop,\n  Event,\n  Method,\n  Element,\n} from '@stencil/core';\n\nimport { PREFIX_BS } from '../../utils';\n\n@Component({\n  tag: 'm-input',\n  shadow: false,\n})\nexport class MInput implements ComponentInterface {\n  @Element() el!: HTMLMInputElement;\n  /**\n   * The id of the input\n   */\n  @Prop() mId!: string;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * The label text\n   */\n  @Prop() label = '';\n\n  /**\n   * Icon for the label text\n   */\n  @Prop() labelIcon?: string;\n\n  /**\n   * Icon label family class\n   */\n  @Prop() labelIconFamilyClass?: string;\n\n  /**\n   * Icon label family prefix\n   */\n  @Prop() labelIconFamilyPrefix?: string;\n\n  /**\n   * The placeholder text\n   */\n  @Prop() placeholder = '';\n\n  /**\n   * The type of the input\n   */\n  @Prop() type = 'text';\n\n  /**\n   * The value of the input\n   */\n  @Prop() value: string | number = '';\n\n  /**\n   * Input mode\n   */\n  @Prop() mInputMode?: string;\n\n  /**\n   * Pattern to validate\n   */\n  @Prop() pattern?: string;\n\n  /**\n   * Flag to disable the input\n   */\n  @Prop() isDisabled = false;\n\n  /**\n   * Flag to read only the input\n   */\n  @Prop() isReadOnly = false;\n\n  /**\n   * Flag for loading state.\n  */\n  @Prop() isLoading = false;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconFamilyClass?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconFamilyPrefix?: string;\n\n  /**\n   * Icon to display on input left\n   */\n  @Prop() iconStart?: string;\n\n  /**\n   * Left icon family class\n   */\n  @Prop() iconStartFamilyClass?: string;\n\n  /**\n   * Left icon family class\n   */\n  @Prop() iconStartFamilyPrefix?: string;\n\n  /**\n   * Icon to display on input right\n   */\n  @Prop() iconEnd?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconEndFamilyClass?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconEndFamilyPrefix?: string;\n\n  /**\n   * Hint to display\n   */\n  @Prop() hint?: string;\n\n  /**\n   * Add is-invalid class\n   */\n  @Prop() isInvalid = false;\n\n  /**\n   * Add is-valid class\n   */\n  @Prop() isValid = false;\n\n  /**\n   * Set focus to internal input\n   */\n  @Method()\n  async focusInput() {\n    this.htmlInputElement?.focus();\n  }\n\n  /**\n   * Set blur to internal input\n   */\n  @Method()\n  async blurInput() {\n    this.htmlInputElement?.blur();\n  }\n\n  /**\n   * Emitted when the input value has changed\n   */\n  @Event({ eventName: 'mChange' }) mChange!: EventEmitter<string | number>;\n\n  /**\n   * Emitted when blur the input\n   */\n  @Event({ eventName: 'mBlur' }) mBlur!: EventEmitter;\n\n  /**\n   * Emitted when blur the input\n   */\n  @Event({ eventName: 'mFocus' }) mFocus!: EventEmitter;\n\n  /**\n   * Emitted when blur the input\n   */\n  @Event({ eventName: 'mWheel' }) mWheel!: EventEmitter;\n\n  /**\n   * Emitted when click on the left icon\n   */\n  @Event({ eventName: 'mIconStartClick' }) mIconStartClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when click on the right icon\n   */\n  @Event({ eventName: 'mIconEndClick' }) mIconEndClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * HTML m-input element\n   */\n  private htmlInputElement?: HTMLInputElement;\n\n  private changeHandler = (event: Event) => {\n    this.mChange.emit((event.target as HTMLInputElement).value);\n  };\n\n  private blurHandler = (event: Event) => {\n    this.mBlur.emit(event);\n  };\n\n  private focusHandler = (event: Event) => {\n    this.mFocus.emit(event);\n  };\n\n  private wheelHandler = (event: Event) => {\n    this.mWheel.emit(event);\n  };\n\n  private iconStartClickHandler = (event: MouseEvent) => {\n    this.mIconStartClick.emit(event);\n  };\n\n  private iconEndClickHandler = (event: MouseEvent) => {\n    this.mIconEndClick.emit(event);\n  };\n\n  private inputStart!: HTMLElement | null;\n  private inputEnd!: HTMLElement | null;\n\n  componentWillLoad() {\n    this.inputStart = this.el.querySelector('[slot=\"input-start\"]');\n    this.inputEnd = this.el.querySelector('[slot=\"input-end\"]');\n  }\n\n  render() {\n    return (\n      <div class=\"m-input\">\n        {this.label && (\n          <label htmlFor={this.mId}>\n            {this.label}\n            {this.labelIcon && (\n              <m-icon\n                class=\"m-input-icon\"\n                icon={this.labelIcon}\n                size={`var(--${PREFIX_BS}m-input-label-font-size)`}\n                familyClass={this.labelIconFamilyClass}\n                familyPrefix={this.labelIconFamilyPrefix}\n              />\n            )}\n          </label>\n        )}\n        <div class=\"m-input-control\">\n          <div\n            class={{\n              'input-group': true,\n              'has-validation': this.isInvalid,\n              disabled: this.isDisabled || this.isLoading,\n            }}\n          >\n            {!!this.inputStart && (\n              <div class=\"input-group-text\">\n                <slot name=\"input-start\" />\n              </div>\n            )}\n            {this.iconStart && (\n              <button\n                type=\"button\"\n                class=\"input-group-text\"\n                id={`${this.mId}Start`}\n                onClick={this.iconStartClickHandler}\n                disabled={this.isDisabled || this.isLoading}\n              >\n                {this.iconStart && (\n                  <m-icon\n                    class=\"m-input-icon\"\n                    icon={this.iconStart}\n                    familyClass={this.iconStartFamilyClass}\n                    familyPrefix={this.iconStartFamilyPrefix}\n                  />\n                )}\n              </button>\n            )}\n            <input\n              // eslint-disable-next-line no-return-assign\n              ref={(el) => (this.htmlInputElement = el)}\n              id={this.mId}\n              name={this.name}\n              type={this.type}\n              class={{\n                'form-control': true,\n                'is-invalid': this.isInvalid,\n                'is-valid': this.isValid,\n              }}\n              placeholder={this.placeholder}\n              aria-label={this.label}\n              disabled={this.isDisabled || this.isLoading}\n              readOnly={this.isReadOnly}\n              value={this.value}\n              aria-describedby={`${this.mId}Add ${this.mId}Hint`}\n              inputmode={this.mInputMode}\n              pattern={this.pattern}\n              onInput={this.changeHandler}\n              onBlur={this.blurHandler}\n              onFocus={this.focusHandler}\n              onWheel={this.wheelHandler}\n            />\n            {((this.isInvalid || this.isValid) && !this.iconEnd && !this.isLoading) && (\n              <span\n                class=\"input-group-text\"\n                id={`${this.mId}State`}\n              >\n                <m-icon\n                  class=\"m-input-validation-icon\"\n                  icon={this.isInvalid ? 'exclamation-circle' : 'check'}\n                  familyClass={this.iconFamilyClass}\n                  familyPrefix={this.iconFamilyPrefix}\n                />\n              </span>\n            )}\n            {(this.iconEnd && !this.isLoading) && (\n              <button\n                type=\"button\"\n                class=\"input-group-text\"\n                id={`${this.mId}End`}\n                onClick={this.iconEndClickHandler}\n                disabled={this.isDisabled || this.isLoading}\n              >\n                {this.iconEnd && (\n                  <m-icon\n                    class=\"m-input-icon\"\n                    icon={this.iconEnd}\n                    familyClass={this.iconEndFamilyClass}\n                    familyPrefix={this.iconEndFamilyPrefix}\n                  />\n                )}\n              </button>\n            )}\n            {!!this.inputEnd && (\n              <div class=\"input-group-text\">\n                <slot name=\"input-end\" />\n              </div>\n            )}\n            {this.isLoading && (\n              <div class=\"input-group-text m-input-icon\">\n                <span\n                  class=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                >\n                  <span class=\"visually-hidden\">Loading...</span>\n                </span>\n              </div>\n            )}\n          </div>\n          {this.hint && (\n            <div\n              class=\"form-text\"\n              id={`${this.mId}Hint`}\n            >\n              {this.hint}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}