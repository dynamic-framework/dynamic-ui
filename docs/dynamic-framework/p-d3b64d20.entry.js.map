{"version":3,"names":["DInputSelect","this","changeHandler","event","value","target","eventChange","emit","options","find","option","valueExtractor","toString","blurHandler","eventBlur","iconStartClickHandler","eventIconStartClick","iconEndClickHandler","eventIconEndClick","item","label","render","h","class","htmlFor","innerId","labelIcon","icon","size","PREFIX_BS","familyClass","labelIconFamilyClass","familyPrefix","labelIconFamilyPrefix","disabled","isDisabled","isLoading","iconStart","type","id","onClick","iconStartFamilyClass","iconStartFamilyPrefix","name","onChange","onBlur","map","selected","selectedOption","labelExtractor","iconEnd","iconEndFamilyClass","iconEndFamilyPrefix","role","hint"],"sources":["./src/components/d-input-select/d-input-select.tsx"],"sourcesContent":["import type { ComponentInterface, EventEmitter } from '@stencil/core';\nimport {\n  Component,\n  h,\n  Prop,\n  Event,\n} from '@stencil/core';\n\nimport { PREFIX_BS } from '../../utils';\n\n@Component({ tag: 'd-input-select' })\nexport class DInputSelect implements ComponentInterface {\n  /**\n   * The id of the input\n   */\n  @Prop() innerId!: string;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * The label text\n   */\n  @Prop() label = '';\n\n  /**\n   * The select options\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() options: Array<Record<string, unknown>> = [];\n\n  /**\n   * Icon for the label text\n   */\n  @Prop() labelIcon?: string;\n\n  /**\n   * Icon label family class\n   */\n  @Prop() labelIconFamilyClass?: string;\n\n  /**\n   * Icon label family prefix\n   */\n  @Prop() labelIconFamilyPrefix?: string;\n\n  /**\n   * Flag to disable the input\n   */\n  @Prop() isDisabled = false;\n\n  /**\n   * Flag for loading state.\n   */\n  @Prop() isLoading = false;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconFamilyClass?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconFamilyPrefix?: string;\n\n  /**\n   * The start icon for the select\n   */\n  @Prop() iconStart?: string;\n\n  /**\n   * Left icon family class\n   */\n  @Prop() iconStartFamilyClass?: string;\n\n  /**\n   * Left icon family class\n   */\n  @Prop() iconStartFamilyPrefix?: string;\n\n  /**\n   * The end icon for the select\n   */\n  @Prop() iconEnd?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconEndFamilyClass?: string;\n\n  /**\n   * Right icon family class\n   */\n  @Prop() iconEndFamilyPrefix?: string;\n\n  /**\n   * Hint to display\n   */\n  @Prop() hint?: string;\n\n  /**\n   * The value selected of the component\n   */\n  @Prop() selectedOption?: Record<string, unknown>;\n\n  /**\n   * Callback to extract the value from the option\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any,class-methods-use-this\n  @Prop() valueExtractor: (item: any) => string | number = (item) => item?.value;\n\n  /**\n   * Callback to extract the label from the option\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any,class-methods-use-this\n  @Prop() labelExtractor: (item: any) => string = (item) => item?.label;\n\n  /**\n   * Emitted when the select value has changed\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Event() eventChange!: EventEmitter;\n\n  /**\n   * Emitted when blur the input\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Event() eventBlur!: EventEmitter;\n\n  /**\n   * Emitted when click on the left icon\n   */\n  @Event() eventIconStartClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when click on the right icon\n   */\n  @Event() eventIconEndClick!: EventEmitter<MouseEvent>;\n\n  private changeHandler = (event: Event) => {\n    const { value } = event.target as HTMLSelectElement;\n    this.eventChange.emit(\n      this.options.find((option) => this.valueExtractor(option).toString() === value),\n    );\n  };\n\n  private blurHandler = (event: Event) => {\n    this.eventBlur.emit(event);\n  };\n\n  private iconStartClickHandler = (event: MouseEvent) => {\n    this.eventIconStartClick.emit(event);\n  };\n\n  private iconEndClickHandler = (event: MouseEvent) => {\n    this.eventIconEndClick.emit(event);\n  };\n\n  render() {\n    return (\n      <div class=\"d-input\">\n        {(this.label) && (\n          <label htmlFor={this.innerId}>\n            {this.label}\n            {this.labelIcon && (\n              <d-icon\n                class=\"mdinput-icon\"\n                icon={this.labelIcon}\n                size={`var(--${PREFIX_BS}input-label-font-size)`}\n                familyClass={this.labelIconFamilyClass}\n                familyPrefix={this.labelIconFamilyPrefix}\n              />\n            )}\n          </label>\n        )}\n        <div class=\"d-input-control\">\n          <div\n            class={{\n              'input-group': true,\n              disabled: this.isDisabled || this.isLoading,\n            }}\n          >\n            {this.iconStart && (\n              <button\n                type=\"button\"\n                class=\"input-group-text\"\n                id={`${this.innerId}Start`}\n                onClick={this.iconStartClickHandler}\n                disabled={this.isDisabled || this.isLoading}\n              >\n                {this.iconStart && (\n                  <d-icon\n                    class=\"d-input-icon\"\n                    icon={this.iconStart}\n                    familyClass={this.iconStartFamilyClass}\n                    familyPrefix={this.iconStartFamilyPrefix}\n                  />\n                )}\n              </button>\n            )}\n            <select\n              id={this.innerId}\n              name={this.name}\n              class={{ 'form-select': true }}\n              aria-label={this.label}\n              disabled={this.isDisabled || this.isLoading}\n              aria-describedby={`${this.innerId}Add ${this.innerId}Hint`}\n              onChange={this.changeHandler}\n              onBlur={this.blurHandler}\n            >\n              {this.options.map((option) => (\n                <option\n                  value={this.valueExtractor(option)}\n                  selected={\n                    this.selectedOption\n                      && this.valueExtractor(option) === this.valueExtractor(this.selectedOption)\n                  }\n                >\n                  {this.labelExtractor(option)}\n                </option>\n              ))}\n            </select>\n            {(this.iconEnd && !this.isLoading) && (\n              <button\n                type=\"button\"\n                class=\"input-group-text\"\n                id={`${this.innerId}End`}\n                onClick={this.iconEndClickHandler}\n                disabled={this.isDisabled || this.isLoading}\n              >\n                {this.iconEnd && (\n                  <d-icon\n                    class=\"d-input-icon\"\n                    icon={this.iconEnd}\n                    familyClass={this.iconEndFamilyClass}\n                    familyPrefix={this.iconEndFamilyPrefix}\n                  />\n                )}\n              </button>\n            )}\n            {this.isLoading && (\n              <div class=\"input-group-text form-control-icon loading\">\n                <span\n                  class=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                >\n                  <span class=\"visually-hidden\">Loading...</span>\n                </span>\n              </div>\n            )}\n          </div>\n          {this.hint && (\n            <div\n              class=\"form-text\"\n              id={`${this.innerId}Hint`}\n            >\n              {this.hint}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"oHAWaA,EAAY,M,qNAmIfC,KAAAC,cAAiBC,IACvB,MAAMC,MAAEA,GAAUD,EAAME,OACxBJ,KAAKK,YAAYC,KACfN,KAAKO,QAAQC,MAAMC,GAAWT,KAAKU,eAAeD,GAAQE,aAAeR,IAC1E,EAGKH,KAAAY,YAAeV,IACrBF,KAAKa,UAAUP,KAAKJ,EAAM,EAGpBF,KAAAc,sBAAyBZ,IAC/BF,KAAKe,oBAAoBT,KAAKJ,EAAM,EAG9BF,KAAAgB,oBAAuBd,IAC7BF,KAAKiB,kBAAkBX,KAAKJ,EAAM,E,sDArIpB,G,aAMkC,G,kHAoB7B,M,eAKD,M,mUAwDsCgB,GAASA,IAAI,MAAJA,SAAI,SAAJA,EAAMf,M,oBAMxBe,GAASA,IAAI,MAAJA,SAAI,SAAJA,EAAMC,K,CA2ChEC,SACE,OACEC,EAAA,OAAKC,MAAM,WACPtB,KAAU,OACVqB,EAAA,SAAOE,QAASvB,KAAKwB,SAClBxB,KAAKmB,MACLnB,KAAKyB,WACJJ,EAAA,UACEC,MAAM,eACNI,KAAM1B,KAAKyB,UACXE,KAAM,SAASC,0BACfC,YAAa7B,KAAK8B,qBAClBC,aAAc/B,KAAKgC,yBAK3BX,EAAA,OAAKC,MAAM,mBACTD,EAAA,OACEC,MAAO,CACL,cAAe,KACfW,SAAUjC,KAAKkC,YAAclC,KAAKmC,YAGnCnC,KAAKoC,WACJf,EAAA,UACEgB,KAAK,SACLf,MAAM,mBACNgB,GAAI,GAAGtC,KAAKwB,eACZe,QAASvC,KAAKc,sBACdmB,SAAUjC,KAAKkC,YAAclC,KAAKmC,WAEjCnC,KAAKoC,WACJf,EAAA,UACEC,MAAM,eACNI,KAAM1B,KAAKoC,UACXP,YAAa7B,KAAKwC,qBAClBT,aAAc/B,KAAKyC,yBAK3BpB,EAAA,UACEiB,GAAItC,KAAKwB,QACTkB,KAAM1C,KAAK0C,KACXpB,MAAO,CAAE,cAAe,MAAM,aAClBtB,KAAKmB,MACjBc,SAAUjC,KAAKkC,YAAclC,KAAKmC,UAAS,mBACzB,GAAGnC,KAAKwB,cAAcxB,KAAKwB,cAC7CmB,SAAU3C,KAAKC,cACf2C,OAAQ5C,KAAKY,aAEZZ,KAAKO,QAAQsC,KAAKpC,GACjBY,EAAA,UACElB,MAAOH,KAAKU,eAAeD,GAC3BqC,SACE9C,KAAK+C,gBACA/C,KAAKU,eAAeD,KAAYT,KAAKU,eAAeV,KAAK+C,iBAG/D/C,KAAKgD,eAAevC,OAIzBT,KAAKiD,UAAYjD,KAAKmC,WACtBd,EAAA,UACEgB,KAAK,SACLf,MAAM,mBACNgB,GAAI,GAAGtC,KAAKwB,aACZe,QAASvC,KAAKgB,oBACdiB,SAAUjC,KAAKkC,YAAclC,KAAKmC,WAEjCnC,KAAKiD,SACJ5B,EAAA,UACEC,MAAM,eACNI,KAAM1B,KAAKiD,QACXpB,YAAa7B,KAAKkD,mBAClBnB,aAAc/B,KAAKmD,uBAK1BnD,KAAKmC,WACJd,EAAA,OAAKC,MAAM,8CACTD,EAAA,QACEC,MAAM,mCACN8B,KAAK,SAAQ,cACD,QAEZ/B,EAAA,QAAMC,MAAM,mBAAiB,iBAKpCtB,KAAKqD,MACJhC,EAAA,OACEC,MAAM,YACNgB,GAAI,GAAGtC,KAAKwB,eAEXxB,KAAKqD,O"}