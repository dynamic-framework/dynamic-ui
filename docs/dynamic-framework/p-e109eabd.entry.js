import{r as i,c as s,h as t}from"./p-bde3ed36.js";import"./p-8fba2b25.js";import{P as n}from"./p-01fea22a.js";const e=class{constructor(t){i(this,t);this.eventChange=s(this,"eventChange",7);this.nextInput=i=>{var s;const t=i.target;const n=new RegExp(this.pattern);if(!n.test(t.value)){t.value=""}if(t.value!==""){if(t.nextSibling){(s=t.nextSibling)===null||s===void 0?void 0:s.focus()}else{t.blur()}}};this.prevInput=i=>{var s;if(i.key==="Backspace"){const{value:t}=i.currentTarget;const n=i.target;if(n.previousSibling&&t===""){(s=n.previousSibling)===null||s===void 0?void 0:s.focus()}else{n.blur();n.focus()}}};this.focusInput=i=>{const s=i.target;s.value="";this.eventChange.emit("")};this.wheelInput=i=>{const s=i.target;s.blur()};this.formChange=i=>{const s=i.currentTarget;const t=new FormData(s);const n=Array.from(t.values()).join("");this.eventChange.emit(n)};this.preventDefaultEvents=i=>{i.preventDefault()};this.innerId=undefined;this.label="";this.labelIcon=undefined;this.labelIconFamilyClass=undefined;this.labelIconFamilyPrefix=undefined;this.placeholder="â€¢";this.type="text";this.isDisabled=false;this.isReadOnly=false;this.isLoading=false;this.isSecret=false;this.iconFamilyClass=undefined;this.iconFamilyPrefix=undefined;this.characters=4;this.innerInputMode="text";this.hint=undefined;this.isInvalid=false;this.isValid=false;this.pattern=undefined}watchMTypeHandler(i){this.pattern=i==="number"?"[0-9]+":"^[a-zA-Z0-9]+$"}connectedCallback(){this.pattern=this.type==="number"?"[0-9]+":"^[a-zA-Z0-9]+$"}render(){return t("div",{class:"d-input-pin"},this.label&&t("label",{htmlFor:"pinIndex0"},this.label,this.labelIcon&&t("d-icon",{class:"d-input-pin-icon",icon:this.labelIcon,size:`var(--${n}input-label-font-size)`,familyClass:this.labelIconFamilyClass,familyPrefix:this.labelIconFamilyPrefix})),t("form",{id:this.innerId,class:"d-input-pin-controls",onInput:this.formChange,onSubmit:this.preventDefaultEvents},Array.from({length:this.characters}).map(((i,s)=>t("input",Object.assign({class:{"form-control":true,"is-invalid":this.isInvalid,"is-valid":this.isValid},type:this.isSecret?"password":this.type,"aria-describedby":`${this.innerId}State`,inputMode:this.innerInputMode,id:`pinIndex${s}`,name:`pin-${s}`,maxLength:1,onInput:this.nextInput,onKeyDown:this.prevInput,onFocus:this.focusInput,onWheel:this.wheelInput,onClick:this.preventDefaultEvents,autocomplete:"off",placeholder:this.placeholder,disabled:this.isDisabled||this.isLoading,required:true},this.type==="number"&&{min:0,max:9})))),(this.isInvalid||this.isValid)&&!this.isLoading&&t("span",{class:"input-group-text",id:`${this.innerId}State`},t("d-icon",{class:"d-input-pin-validation-icon",icon:this.isInvalid?"exclamation-circle":"check",familyClass:this.iconFamilyClass,familyPrefix:this.iconFamilyPrefix})),this.isLoading&&t("div",{class:"input-group-text d-input-pin-icon"},t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t("span",{class:"visually-hidden"},"Loading...")))),this.hint&&t("div",{class:"form-text",id:`${this.innerId}Hint`},this.hint))}static get watchers(){return{type:["watchMTypeHandler"]}}};export{e as d_input_pin};
//# sourceMappingURL=p-e109eabd.entry.js.map