import{r as t,c as i,h as e}from"./p-bde3ed36.js";import{c as s}from"./p-8fba2b25.js";import{P as n}from"./p-01fea22a.js";const h=class{constructor(e){t(this,e);this.eventChange=i(this,"eventChange",7);this.eventBlur=i(this,"eventBlur",7);this.eventFocus=i(this,"eventFocus",7);this.changeHandler=t=>{t.stopPropagation();this.internalValueAsNumber=t.detail!==""&&typeof t.detail==="string"?parseFloat(t.detail):undefined;this.internalValueAsFormat=this.internalValueAsNumber!==undefined?s(this.internalValueAsNumber,Object.assign(Object.assign({},this.currencyOptions),{symbol:""})).format():"";this.eventChange.emit(this.internalValueAsNumber)};this.blurHandler=t=>{t.stopPropagation();this.internalType="text";this.internalValueAsFormat=this.internalValueAsNumber!==undefined?s(this.internalValueAsNumber,Object.assign(Object.assign({},this.currencyOptions),{symbol:""})).format():"";this.eventBlur.emit(this.internalValueAsNumber)};this.focusHandler=t=>{t.stopPropagation();this.internalType="number";this.internalValueAsFormat=this.internalValueAsNumber!==undefined?s(this.internalValueAsNumber,Object.assign(Object.assign({},this.currencyOptions),{symbol:""})).format():"";this.eventFocus.emit(this.internalValueAsNumber)};this.wheelHandler=t=>{var i;t.stopPropagation();(i=this.htmlInput)===null||i===void 0?void 0:i.innerBlur()};this.innerId=undefined;this.name=undefined;this.label="";this.labelIcon=undefined;this.labelIconFamilyClass=undefined;this.labelIconFamilyPrefix=undefined;this.placeholder="";this.value=undefined;this.isDisabled=false;this.isReadOnly=false;this.isLoading=false;this.iconFamilyClass=undefined;this.iconFamilyPrefix=undefined;this.iconStart=undefined;this.iconStartFamilyClass=undefined;this.iconStartFamilyPrefix=undefined;this.iconEnd=undefined;this.iconEndFamilyClass=undefined;this.iconEndFamilyPrefix=undefined;this.hint=undefined;this.isInvalid=false;this.isValid=false;this.minValue=undefined;this.maxValue=undefined;this.currencyOptions=undefined;this.currencyCode=undefined;this.internalValueAsNumber=undefined;this.internalValueAsFormat=undefined;this.internalType="text";this.internalIsInvalid=false}watchValueHandler(t){this.internalIsInvalid=!this.isValidValue(t)}isValidValue(t){if(t===undefined){return true}if(this.internalType==="number"){return(this.minValue!==undefined?t>=this.minValue:true)&&(this.maxValue!==undefined?t<=this.maxValue:true)}return true}valueAsType(){if(this.internalType==="number"){return this.internalValueAsNumber}return this.internalValueAsFormat}connectedCallback(){this.internalValueAsNumber=this.value}componentDidLoad(){this.internalType="text";this.internalValueAsFormat=this.internalValueAsNumber!==undefined?s(this.internalValueAsNumber,Object.assign(Object.assign({},this.currencyOptions),{symbol:""})).format():""}generateStyleVariables(){return{[`--${n}input-currency-component-symbol-color`]:`var(--${n}secondary)`,[`--${n}input-currency-symbol-color`]:`var(--${n}input-currency-component-symbol-color)`}}generateSymbolStyleVariables(){return{color:`var(--${n}m-input-currency-symbol-color)`}}render(){return e("d-input",{ref:t=>this.htmlInput=t,style:this.generateStyleVariables(),innerId:this.innerId,name:this.name,label:this.label,labelIcon:this.labelIcon,labelIconFamilyClass:this.labelIconFamilyClass,labelIconFamilyPrefix:this.labelIconFamilyPrefix,placeholder:this.placeholder,value:this.valueAsType(),iconStart:this.iconStart,iconStartFamilyClass:this.iconStartFamilyClass,iconStartFamilyPrefix:this.iconStartFamilyPrefix,iconEnd:this.iconEnd,iconEndFamilyClass:this.iconEndFamilyClass,iconEndFamilyPrefix:this.iconEndFamilyPrefix,isDisabled:this.isDisabled,isReadOnly:this.isReadOnly,isLoading:this.isLoading,hint:this.hint,isInvalid:this.isInvalid,isValid:this.isValid,type:this.internalType,innerInputMode:"decimal",pattern:"^[0-9]",onEventChange:this.changeHandler,onEventBlur:this.blurHandler,onEventFocus:this.focusHandler,onEventWheel:this.wheelHandler},e("span",{slot:"input-start",style:this.generateSymbolStyleVariables()},this.currencyCode||this.currencyOptions.symbol))}static get watchers(){return{value:["watchValueHandler"]}}};export{h as d_input_currency_base};
//# sourceMappingURL=p-f89d7d73.entry.js.map