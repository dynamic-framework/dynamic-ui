import{r as a,a as xt}from"./index-Bv9Y92EF.js";import{i as Ct,d as ee,e as G,g as St,h as Me,j as st,k as It,l as qe,m as kt,n as ut}from"./floating-ui.dom-osFzHgfv.js";import{r as Mt}from"./index-ym0Fkt11.js";import{u as Pt}from"./floating-ui.react-dom-WP3SW3a1.js";/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var At=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Re=At.join(","),at=typeof Element>"u",le=at?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,we=!at&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ve=function(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",i=s||n&&e&&ve(e.parentNode);return i},Ot=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Ft=function(e,n,r){if(ve(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Re));return n&&le.call(e,Re)&&o.unshift(e),o=o.filter(r),o},Ne=function(e,n,r){for(var o=[],s=Array.from(e);s.length;){var i=s.shift();if(!ve(i,!1))if(i.tagName==="SLOT"){var u=i.assignedElements(),v=u.length?u:i.children,f=Ne(v,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:i,candidates:f})}else{var p=le.call(i,Re);p&&r.filter(i)&&(n||!e.includes(i))&&o.push(i);var b=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),T=!ve(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(b&&T){var c=Ne(b===!0?i.children:b.children,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:i,candidates:c})}else s.unshift.apply(s,i.children)}}return o},ct=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},lt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ot(e))&&!ct(e)?0:e.tabIndex},Lt=function(e,n){var r=lt(e);return r<0&&n&&!ct(e)?0:r},Dt=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ft=function(e){return e.tagName==="INPUT"},Nt=function(e){return ft(e)&&e.type==="hidden"},_t=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Kt=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Bt=function(e){if(!e.name)return!0;var n=e.form||we(e),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=Kt(o,e.form);return!s||s===e},Wt=function(e){return ft(e)&&e.type==="radio"},Vt=function(e){return Wt(e)&&!Bt(e)},$t=function(e){var n,r=e&&we(e),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var i,u,v;for(s=!!((i=o)!==null&&i!==void 0&&(u=i.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(v=e.ownerDocument)!==null&&v!==void 0&&v.contains(e));!s&&o;){var f,p,b;r=we(o),o=(f=r)===null||f===void 0?void 0:f.host,s=!!((p=o)!==null&&p!==void 0&&(b=p.ownerDocument)!==null&&b!==void 0&&b.contains(o))}}return s},He=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},qt=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var i=le.call(e,"details>summary:first-of-type"),u=i?e.parentElement:e;if(le.call(u,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var v=e;e;){var f=e.parentElement,p=we(e);if(f&&!f.shadowRoot&&o(f)===!0)return He(e);e.assignedSlot?e=e.assignedSlot:!f&&p!==e.ownerDocument?e=p.host:e=f}e=v}if($t(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return He(e);return!1},Ht=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return le.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Ut=function(e,n){return!(n.disabled||ve(n)||Nt(n)||qt(n,e)||_t(n)||Ht(n))},_e=function(e,n){return!(Vt(n)||lt(n)<0||!Ut(e,n))},Yt=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},dt=function(e){var n=[],r=[];return e.forEach(function(o,s){var i=!!o.scopeParent,u=i?o.scopeParent:o,v=Lt(u,i),f=i?dt(o.candidates):u;v===0?i?n.push.apply(n,f):n.push(u):r.push({documentOrder:s,tabIndex:v,item:o,isScope:i,content:f})}),r.sort(Dt).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},xe=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Ne([e],n.includeContainer,{filter:_e.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Yt}):r=Ft(e,n.includeContainer,_e.bind(null,n)),dt(r)},jt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return le.call(e,Re)===!1?!1:_e(n,e)};function z(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Y(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Ct(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function vt(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function mt(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Xt(t){return t.mozInputSource===0&&t.isTrusted?!0:Ke()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function pt(t){return Zt()?!1:!Ke()&&t.width===0&&t.height===0||Ke()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function bt(){return/apple/i.test(navigator.vendor)}function Ke(){const t=/android/i;return t.test(vt())||t.test(mt())}function Gt(){return vt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Zt(){return mt().includes("jsdom/")}function me(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function Jt(t){return"nativeEvent"in t}function Qt(t){return t.matches("html,body")}function j(t){return(t==null?void 0:t.ownerDocument)||document}function Pe(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function re(t){return"composedPath"in t?t.composedPath()[0]:t.target}const zt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function We(t){return ee(t)&&t.matches(zt)}function Ae(t){t.preventDefault(),t.stopPropagation()}function en(t){return t?t.getAttribute("role")==="combobox"&&We(t):!1}const gt={...xt},tn=gt.useInsertionEffect,nn=tn||(t=>t());function J(t){const e=a.useRef(()=>{});return nn(()=>{e.current=t}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var Z=typeof document<"u"?a.useLayoutEffect:a.useEffect;function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pe.apply(this,arguments)}let Ue=!1,rn=0;const Ye=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rn++;function on(){const[t,e]=a.useState(()=>Ue?Ye():void 0);return Z(()=>{t==null&&e(Ye())},[]),a.useEffect(()=>{Ue=!0},[]),t}const sn=gt.useId,Ce=sn||on,In=a.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:s,shift:i}},width:u=14,height:v=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:b,stroke:T,d:c,style:{transform:m,...l}={},...x}=e,S=Ce(),[O,g]=a.useState(!1);if(Z(()=>{if(!o)return;st(o).direction==="rtl"&&g(!0)},[o]),!o)return null;const[I,V]=r.split("-"),D=I==="top"||I==="bottom";let B=b;(D&&i!=null&&i.x||!D&&i!=null&&i.y)&&(B=null);const L=p*2,W=L/2,H=u/2*(f/-8+1),K=v/2*f/4,w=!!c,X=B&&V==="end"?"bottom":"top";let $=B&&V==="end"?"right":"left";B&&O&&($=V==="end"?"left":"right");const C=(s==null?void 0:s.x)!=null?B||s.x:"",N=(s==null?void 0:s.y)!=null?B||s.y:"",E=c||"M0,0"+(" H"+u)+(" L"+(u-H)+","+(v-K))+(" Q"+u/2+","+v+" "+H+","+(v-K))+" Z",y={top:w?"rotate(180deg)":"",left:w?"rotate(90deg)":"rotate(-90deg)",bottom:w?"":"rotate(180deg)",right:w?"rotate(-90deg)":"rotate(90deg)"}[I];return a.createElement("svg",pe({},x,{"aria-hidden":!0,ref:n,width:w?u:u+L,height:u,viewBox:"0 0 "+u+" "+(v>u?v:u),style:{position:"absolute",pointerEvents:"none",[$]:C,[X]:N,[I]:D||w?"100%":"calc(100% - "+L/2+"px)",transform:[y,m].filter(d=>!!d).join(" "),...l}}),L>0&&a.createElement("path",{clipPath:"url(#"+S+")",fill:"none",stroke:T,strokeWidth:L+(c?0:1),d:E}),a.createElement("path",{stroke:L&&!c?x.fill:"none",d:E}),a.createElement("clipPath",{id:S},a.createElement("rect",{x:-W,y:W*(w?-1:1),width:u+L,height:u})))});function un(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const an=a.createContext(null),cn=a.createContext(null),Ve=()=>{var t;return((t=a.useContext(an))==null?void 0:t.id)||null},Se=()=>a.useContext(cn);function ie(t){return"data-floating-ui-"+t}function ce(t){const e=a.useRef(t);return Z(()=>{e.current=t}),e}const je=ie("safe-polygon");function Oe(t,e,n){return n&&!me(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function kn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,events:s,elements:i}=t,{enabled:u=!0,delay:v=0,handleClose:f=null,mouseOnly:p=!1,restMs:b=0,move:T=!0}=e,c=Se(),m=Ve(),l=ce(f),x=ce(v),S=ce(n),O=a.useRef(),g=a.useRef(-1),I=a.useRef(),V=a.useRef(-1),D=a.useRef(!0),B=a.useRef(!1),L=a.useRef(()=>{}),W=a.useRef(!1),H=a.useCallback(()=>{var E;const y=(E=o.current.openEvent)==null?void 0:E.type;return(y==null?void 0:y.includes("mouse"))&&y!=="mousedown"},[o]);a.useEffect(()=>{if(!u)return;function E(y){let{open:d}=y;d||(clearTimeout(g.current),clearTimeout(V.current),D.current=!0,W.current=!1)}return s.on("openchange",E),()=>{s.off("openchange",E)}},[u,s]),a.useEffect(()=>{if(!u||!l.current||!n)return;function E(d){H()&&r(!1,d,"hover")}const y=j(i.floating).documentElement;return y.addEventListener("mouseleave",E),()=>{y.removeEventListener("mouseleave",E)}},[i.floating,n,r,u,l,H]);const K=a.useCallback(function(E,y,d){y===void 0&&(y=!0),d===void 0&&(d="hover");const k=Oe(x.current,"close",O.current);k&&!I.current?(clearTimeout(g.current),g.current=window.setTimeout(()=>r(!1,E,d),k)):y&&(clearTimeout(g.current),r(!1,E,d))},[x,r]),w=J(()=>{L.current(),I.current=void 0}),X=J(()=>{if(B.current){const E=j(i.floating).body;E.style.pointerEvents="",E.removeAttribute(je),B.current=!1}}),$=J(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);a.useEffect(()=>{if(!u)return;function E(R){if(clearTimeout(g.current),D.current=!1,p&&!me(O.current)||b>0&&!Oe(x.current,"open"))return;const _=Oe(x.current,"open",O.current);_?g.current=window.setTimeout(()=>{S.current||r(!0,R,"hover")},_):n||r(!0,R,"hover")}function y(R){if($())return;L.current();const _=j(i.floating);if(clearTimeout(V.current),W.current=!1,l.current&&o.current.floatingContext){n||clearTimeout(g.current),I.current=l.current({...o.current.floatingContext,tree:c,x:R.clientX,y:R.clientY,onClose(){X(),w(),$()||K(R,!0,"safe-polygon")}});const M=I.current;_.addEventListener("mousemove",M),L.current=()=>{_.removeEventListener("mousemove",M)};return}(O.current==="touch"?!Y(i.floating,R.relatedTarget):!0)&&K(R)}function d(R){$()||o.current.floatingContext&&(l.current==null||l.current({...o.current.floatingContext,tree:c,x:R.clientX,y:R.clientY,onClose(){X(),w(),$()||K(R)}})(R))}if(G(i.domReference)){var k;const R=i.domReference;return n&&R.addEventListener("mouseleave",d),(k=i.floating)==null||k.addEventListener("mouseleave",d),T&&R.addEventListener("mousemove",E,{once:!0}),R.addEventListener("mouseenter",E),R.addEventListener("mouseleave",y),()=>{var _;n&&R.removeEventListener("mouseleave",d),(_=i.floating)==null||_.removeEventListener("mouseleave",d),T&&R.removeEventListener("mousemove",E),R.removeEventListener("mouseenter",E),R.removeEventListener("mouseleave",y)}}},[i,u,t,p,b,T,K,w,X,r,n,S,c,x,l,o,$]),Z(()=>{var E;if(u&&n&&(E=l.current)!=null&&E.__options.blockPointerEvents&&H()){B.current=!0;const d=i.floating;if(G(i.domReference)&&d){var y;const k=j(i.floating).body;k.setAttribute(je,"");const R=i.domReference,_=c==null||(y=c.nodesRef.current.find(te=>te.id===m))==null||(y=y.context)==null?void 0:y.elements.floating;return _&&(_.style.pointerEvents=""),k.style.pointerEvents="none",R.style.pointerEvents="auto",d.style.pointerEvents="auto",()=>{k.style.pointerEvents="",R.style.pointerEvents="",d.style.pointerEvents=""}}}},[u,n,m,i,c,l,H]),Z(()=>{n||(O.current=void 0,W.current=!1,w(),X())},[n,w,X]),a.useEffect(()=>()=>{w(),clearTimeout(g.current),clearTimeout(V.current),X()},[u,i.domReference,w,X]);const C=a.useMemo(()=>{function E(y){O.current=y.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(y){const{nativeEvent:d}=y;function k(){!D.current&&!S.current&&r(!0,d,"hover")}p&&!me(O.current)||n||b===0||W.current&&y.movementX**2+y.movementY**2<2||(clearTimeout(V.current),O.current==="touch"?k():(W.current=!0,V.current=window.setTimeout(k,b)))}}},[p,r,n,S,b]),N=a.useMemo(()=>({onMouseEnter(){clearTimeout(g.current)},onMouseLeave(E){$()||K(E.nativeEvent,!1)}}),[K,$]);return a.useMemo(()=>u?{reference:C,floating:N}:{},[u,C,N])}let Xe=0;function ue(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(Xe);const s=()=>t==null?void 0:t.focus({preventScroll:n});o?s():Xe=requestAnimationFrame(s)}function ln(t,e){var n;let r=[],o=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;o;){const s=t.find(i=>i.id===o);o=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function fe(t,e){let n=t.filter(o=>{var s;return o.parentId===e&&((s=o.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(o=>{var s;return(s=r)==null?void 0:s.some(i=>{var u;return o.parentId===i.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}let ae=new WeakMap,Ee=new WeakSet,ye={},Fe=0;const fn=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,ht=t=>t&&(t.host||ht(t.parentNode)),dn=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=ht(n);return t.contains(r)?r:null}).filter(n=>n!=null);function vn(t,e,n,r){const o="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,i=dn(e,t),u=new Set,v=new Set(i),f=[];ye[o]||(ye[o]=new WeakMap);const p=ye[o];i.forEach(b),T(e),u.clear();function b(c){!c||u.has(c)||(u.add(c),c.parentNode&&b(c.parentNode))}function T(c){!c||v.has(c)||[].forEach.call(c.children,m=>{if(ut(m)!=="script")if(u.has(m))T(m);else{const l=s?m.getAttribute(s):null,x=l!==null&&l!=="false",S=(ae.get(m)||0)+1,O=(p.get(m)||0)+1;ae.set(m,S),p.set(m,O),f.push(m),S===1&&x&&Ee.add(m),O===1&&m.setAttribute(o,""),!x&&s&&m.setAttribute(s,"true")}})}return Fe++,()=>{f.forEach(c=>{const m=(ae.get(c)||0)-1,l=(p.get(c)||0)-1;ae.set(c,m),p.set(c,l),m||(!Ee.has(c)&&s&&c.removeAttribute(s),Ee.delete(c)),l||c.removeAttribute(o)}),Fe--,Fe||(ae=new WeakMap,ae=new WeakMap,Ee=new WeakSet,ye={})}}function Ge(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=j(t[0]).body;return vn(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const be=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Et(t,e){const n=xe(t,be());e==="prev"&&n.reverse();const r=n.indexOf(z(j(t)));return n.slice(r+1)[0]}function yt(){return Et(document.body,"next")}function Rt(){return Et(document.body,"prev")}function de(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Y(n,r)}function mn(t){xe(t,be()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Ze(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Ie={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let pn;function Je(t){t.key==="Tab"&&(t.target,clearTimeout(pn))}const Te=a.forwardRef(function(e,n){const[r,o]=a.useState();Z(()=>(bt()&&o("button"),document.addEventListener("keydown",Je),()=>{document.removeEventListener("keydown",Je)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ie("focus-guard")]:"",style:Ie};return a.createElement("span",pe({},e,s))}),wt=a.createContext(null),Qe=ie("portal");function bn(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Ce(),o=Tt(),[s,i]=a.useState(null),u=a.useRef(null);return Z(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{u.current=null})},[s]),Z(()=>{if(!r||u.current)return;const v=e?document.getElementById(e):null;if(!v)return;const f=document.createElement("div");f.id=r,f.setAttribute(Qe,""),v.appendChild(f),u.current=f,i(f)},[e,r]),Z(()=>{if(n===null||!r||u.current)return;let v=n||(o==null?void 0:o.portalNode);v&&!G(v)&&(v=v.current),v=v||document.body;let f=null;e&&(f=document.createElement("div"),f.id=e,v.appendChild(f));const p=document.createElement("div");p.id=r,p.setAttribute(Qe,""),v=f||v,v.appendChild(p),u.current=p,i(p)},[e,n,r,o]),s}function Mn(t){const{children:e,id:n,root:r,preserveTabOrder:o=!0}=t,s=bn({id:n,root:r}),[i,u]=a.useState(null),v=a.useRef(null),f=a.useRef(null),p=a.useRef(null),b=a.useRef(null),T=i==null?void 0:i.modal,c=i==null?void 0:i.open,m=!!i&&!i.modal&&i.open&&o&&!!(r||s);return a.useEffect(()=>{if(!s||!o||T)return;function l(x){s&&de(x)&&(x.type==="focusin"?Ze:mn)(s)}return s.addEventListener("focusin",l,!0),s.addEventListener("focusout",l,!0),()=>{s.removeEventListener("focusin",l,!0),s.removeEventListener("focusout",l,!0)}},[s,o,T]),a.useEffect(()=>{s&&(c||Ze(s))},[c,s]),a.createElement(wt.Provider,{value:a.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:v,afterOutsideRef:f,beforeInsideRef:p,afterInsideRef:b,portalNode:s,setFocusManagerState:u}),[o,s])},m&&s&&a.createElement(Te,{"data-type":"outside",ref:v,onFocus:l=>{if(de(l,s)){var x;(x=p.current)==null||x.focus()}else{const S=Rt()||(i==null?void 0:i.refs.domReference.current);S==null||S.focus()}}}),m&&s&&a.createElement("span",{"aria-owns":s.id,style:Ie}),s&&Mt.createPortal(e,s),m&&s&&a.createElement(Te,{"data-type":"outside",ref:f,onFocus:l=>{if(de(l,s)){var x;(x=b.current)==null||x.focus()}else{const S=yt()||(i==null?void 0:i.refs.domReference.current);S==null||S.focus(),i!=null&&i.closeOnFocusOut&&(i==null||i.onOpenChange(!1,l.nativeEvent,"focus-out"))}}}))}const Tt=()=>a.useContext(wt),Be="data-floating-ui-focusable";function gn(t){return t?t.hasAttribute(Be)?t:t.querySelector("["+Be+"]")||t:null}const ze=20;let oe=[];function Le(t){oe=oe.filter(n=>n.isConnected);let e=t;if(!(!e||ut(e)==="body")){if(!jt(e,be())){const n=xe(e,be())[0];n&&(e=n)}oe.push(e),oe.length>ze&&(oe=oe.slice(-ze))}}function et(){return oe.slice().reverse().find(t=>t.isConnected)}const hn=a.forwardRef(function(e,n){return a.createElement("button",pe({},e,{type:"button",ref:n,tabIndex:-1,style:Ie}))});function Pn(t){const{context:e,children:n,disabled:r=!1,order:o=["content"],guards:s=!0,initialFocus:i=0,returnFocus:u=!0,restoreFocus:v=!1,modal:f=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:b=!0}=t,{open:T,refs:c,nodeId:m,onOpenChange:l,events:x,dataRef:S,floatingId:O,elements:{domReference:g,floating:I}}=e,V=typeof i=="number"&&i<0,D=en(g)&&V,B=fn()?s:!0,L=ce(o),W=ce(i),H=ce(u),K=Se(),w=Tt(),X=a.useRef(null),$=a.useRef(null),C=a.useRef(!1),N=a.useRef(!1),E=a.useRef(-1),y=w!=null,d=gn(I),k=J(function(M){return M===void 0&&(M=d),M?xe(M,be()):[]}),R=J(M=>{const A=k(M);return L.current.map(h=>g&&h==="reference"?g:d&&h==="floating"?d:A).filter(Boolean).flat()});a.useEffect(()=>{if(r||!f)return;function M(h){if(h.key==="Tab"){Y(d,z(j(d)))&&k().length===0&&!D&&Ae(h);const P=R(),F=re(h);L.current[0]==="reference"&&F===g&&(Ae(h),h.shiftKey?ue(P[P.length-1]):ue(P[1])),L.current[1]==="floating"&&F===d&&h.shiftKey&&(Ae(h),ue(P[0]))}}const A=j(d);return A.addEventListener("keydown",M),()=>{A.removeEventListener("keydown",M)}},[r,g,d,f,L,D,k,R]),a.useEffect(()=>{if(r||!I)return;function M(A){const h=re(A),F=k().indexOf(h);F!==-1&&(E.current=F)}return I.addEventListener("focusin",M),()=>{I.removeEventListener("focusin",M)}},[r,I,k]),a.useEffect(()=>{if(r||!b)return;function M(){N.current=!0,setTimeout(()=>{N.current=!1})}function A(h){const P=h.relatedTarget;queueMicrotask(()=>{const F=!(Y(g,P)||Y(I,P)||Y(P,I)||Y(w==null?void 0:w.portalNode,P)||P!=null&&P.hasAttribute(ie("focus-guard"))||K&&(fe(K.nodesRef.current,m).find(U=>{var q,Q;return Y((q=U.context)==null?void 0:q.elements.floating,P)||Y((Q=U.context)==null?void 0:Q.elements.domReference,P)})||ln(K.nodesRef.current,m).find(U=>{var q,Q;return((q=U.context)==null?void 0:q.elements.floating)===P||((Q=U.context)==null?void 0:Q.elements.domReference)===P})));if(v&&F&&z(j(d))===j(d).body){ee(d)&&d.focus();const U=E.current,q=k(),Q=q[U]||q[q.length-1]||d;ee(Q)&&Q.focus()}(D||!f)&&P&&F&&!N.current&&P!==et()&&(C.current=!0,l(!1,h,"focus-out"))})}if(I&&ee(g))return g.addEventListener("focusout",A),g.addEventListener("pointerdown",M),I.addEventListener("focusout",A),()=>{g.removeEventListener("focusout",A),g.removeEventListener("pointerdown",M),I.removeEventListener("focusout",A)}},[r,g,I,d,f,m,K,w,l,b,v,k,D]),a.useEffect(()=>{var M;if(r)return;const A=Array.from((w==null||(M=w.portalNode)==null?void 0:M.querySelectorAll("["+ie("portal")+"]"))||[]);if(I){const h=[I,...A,X.current,$.current,L.current.includes("reference")||D?g:null].filter(F=>F!=null),P=f||D?Ge(h,B,!B):Ge(h);return()=>{P()}}},[r,g,I,f,L,w,D,B]),Z(()=>{if(r||!ee(d))return;const M=j(d),A=z(M);queueMicrotask(()=>{const h=R(d),P=W.current,F=(typeof P=="number"?h[P]:P.current)||d,U=Y(d,A);!V&&!U&&T&&ue(F,{preventScroll:F===d})})},[r,T,d,V,R,W]),Z(()=>{if(r||!d)return;let M=!1;const A=j(d),h=z(A);let F=S.current.openEvent;Le(h);function U(se){let{open:ge,reason:he,event:ne,nested:ke}=se;ge&&(F=ne),he==="escape-key"&&c.domReference.current&&Le(c.domReference.current),he==="hover"&&ne.type==="mouseleave"&&(C.current=!0),he==="outside-press"&&(ke?(C.current=!1,M=!0):C.current=!(Xt(ne)||pt(ne)))}x.on("openchange",U);const q=A.createElement("span");q.setAttribute("tabindex","-1"),q.setAttribute("aria-hidden","true"),Object.assign(q.style,Ie),y&&g&&g.insertAdjacentElement("afterend",q);function Q(){return typeof H.current=="boolean"?et()||q:H.current.current||q}return()=>{x.off("openchange",U);const se=z(A),ge=Y(I,se)||K&&fe(K.nodesRef.current,m).some(ke=>{var $e;return Y(($e=ke.context)==null?void 0:$e.elements.floating,se)});(ge||F&&["click","mousedown"].includes(F.type))&&c.domReference.current&&Le(c.domReference.current);const ne=Q();queueMicrotask(()=>{H.current&&!C.current&&ee(ne)&&(!(ne!==se&&se!==A.body)||ge)&&ne.focus({preventScroll:M}),q.remove()})}},[r,I,d,H,S,c,x,K,m,y,g]),a.useEffect(()=>{queueMicrotask(()=>{C.current=!1})},[r]),Z(()=>{if(!r&&w)return w.setFocusManagerState({modal:f,closeOnFocusOut:b,open:T,onOpenChange:l,refs:c}),()=>{w.setFocusManagerState(null)}},[r,w,f,T,l,c,b]),Z(()=>{if(r||!d||typeof MutationObserver!="function"||V)return;const M=()=>{const h=d.getAttribute("tabindex"),P=k(),F=z(j(I)),U=P.indexOf(F);U!==-1&&(E.current=U),L.current.includes("floating")||F!==c.domReference.current&&P.length===0?h!=="0"&&d.setAttribute("tabindex","0"):h!=="-1"&&d.setAttribute("tabindex","-1")};M();const A=new MutationObserver(M);return A.observe(d,{childList:!0,subtree:!0,attributes:!0}),()=>{A.disconnect()}},[r,I,d,c,L,k,V]);function _(M){return r||!p||!f?null:a.createElement(hn,{ref:M==="start"?X:$,onClick:A=>l(!1,A.nativeEvent)},typeof p=="string"?p:"Dismiss")}const te=!r&&B&&(f?!D:!0)&&(y||f);return a.createElement(a.Fragment,null,te&&a.createElement(Te,{"data-type":"inside",ref:w==null?void 0:w.beforeInsideRef,onFocus:M=>{if(f){const h=R();ue(o[0]==="reference"?h[0]:h[h.length-1])}else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(C.current=!1,de(M,w.portalNode)){const h=yt()||g;h==null||h.focus()}else{var A;(A=w.beforeOutsideRef.current)==null||A.focus()}}}),!D&&_("start"),n,_("end"),te&&a.createElement(Te,{"data-type":"inside",ref:w==null?void 0:w.afterInsideRef,onFocus:M=>{if(f)ue(R()[0]);else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(b&&(C.current=!0),de(M,w.portalNode)){const h=Rt()||g;h==null||h.focus()}else{var A;(A=w.afterOutsideRef.current)==null||A.focus()}}}))}function tt(t){return ee(t.target)&&t.target.tagName==="BUTTON"}function nt(t){return We(t)}function An(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:s}}=t,{enabled:i=!0,event:u="click",toggle:v=!0,ignoreMouse:f=!1,keyboardHandlers:p=!0,stickIfOpen:b=!0}=e,T=a.useRef(),c=a.useRef(!1),m=a.useMemo(()=>({onPointerDown(l){T.current=l.pointerType},onMouseDown(l){const x=T.current;l.button===0&&u!=="click"&&(me(x,!0)&&f||(n&&v&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent,"click"):(l.preventDefault(),r(!0,l.nativeEvent,"click"))))},onClick(l){const x=T.current;if(u==="mousedown"&&T.current){T.current=void 0;return}me(x,!0)&&f||(n&&v&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="click")?r(!1,l.nativeEvent,"click"):r(!0,l.nativeEvent,"click"))},onKeyDown(l){T.current=void 0,!(l.defaultPrevented||!p||tt(l))&&(l.key===" "&&!nt(s)&&(l.preventDefault(),c.current=!0),l.key==="Enter"&&r(!(n&&v),l.nativeEvent,"click"))},onKeyUp(l){l.defaultPrevented||!p||tt(l)||nt(s)||l.key===" "&&c.current&&(c.current=!1,r(!(n&&v),l.nativeEvent,"click"))}}),[o,s,u,f,p,r,n,b,v]);return a.useMemo(()=>i?{reference:m}:{},[i,m])}const En={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},yn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},rt=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function On(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:o,dataRef:s}=t,{enabled:i=!0,escapeKey:u=!0,outsidePress:v=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:b="pointerdown",ancestorScroll:T=!1,bubbles:c,capture:m}=e,l=Se(),x=J(typeof v=="function"?v:()=>!1),S=typeof v=="function"?x:v,O=a.useRef(!1),g=a.useRef(!1),{escapeKey:I,outsidePress:V}=rt(c),{escapeKey:D,outsidePress:B}=rt(m),L=a.useRef(!1),W=J(C=>{var N;if(!n||!i||!u||C.key!=="Escape"||L.current)return;const E=(N=s.current.floatingContext)==null?void 0:N.nodeId,y=l?fe(l.nodesRef.current,E):[];if(!I&&(C.stopPropagation(),y.length>0)){let d=!0;if(y.forEach(k=>{var R;if((R=k.context)!=null&&R.open&&!k.context.dataRef.current.__escapeKeyBubbles){d=!1;return}}),!d)return}r(!1,Jt(C)?C.nativeEvent:C,"escape-key")}),H=J(C=>{var N;const E=()=>{var y;W(C),(y=re(C))==null||y.removeEventListener("keydown",E)};(N=re(C))==null||N.addEventListener("keydown",E)}),K=J(C=>{var N;const E=O.current;O.current=!1;const y=g.current;if(g.current=!1,f==="click"&&y||E||typeof S=="function"&&!S(C))return;const d=re(C),k="["+ie("inert")+"]",R=j(o.floating).querySelectorAll(k);let _=G(d)?d:null;for(;_&&!qe(_);){const h=kt(_);if(qe(h)||!G(h))break;_=h}if(R.length&&G(d)&&!Qt(d)&&!Y(d,o.floating)&&Array.from(R).every(h=>!Y(_,h)))return;if(ee(d)&&$){const h=d.clientWidth>0&&d.scrollWidth>d.clientWidth,P=d.clientHeight>0&&d.scrollHeight>d.clientHeight;let F=P&&C.offsetX>d.clientWidth;if(P&&st(d).direction==="rtl"&&(F=C.offsetX<=d.offsetWidth-d.clientWidth),F||h&&C.offsetY>d.clientHeight)return}const te=(N=s.current.floatingContext)==null?void 0:N.nodeId,M=l&&fe(l.nodesRef.current,te).some(h=>{var P;return Pe(C,(P=h.context)==null?void 0:P.elements.floating)});if(Pe(C,o.floating)||Pe(C,o.domReference)||M)return;const A=l?fe(l.nodesRef.current,te):[];if(A.length>0){let h=!0;if(A.forEach(P=>{var F;if((F=P.context)!=null&&F.open&&!P.context.dataRef.current.__outsidePressBubbles){h=!1;return}}),!h)return}r(!1,C,"outside-press")}),w=J(C=>{var N;const E=()=>{var y;K(C),(y=re(C))==null||y.removeEventListener(f,E)};(N=re(C))==null||N.addEventListener(f,E)});a.useEffect(()=>{if(!n||!i)return;s.current.__escapeKeyBubbles=I,s.current.__outsidePressBubbles=V;let C=-1;function N(R){r(!1,R,"ancestor-scroll")}function E(){window.clearTimeout(C),L.current=!0}function y(){C=window.setTimeout(()=>{L.current=!1},It()?5:0)}const d=j(o.floating);u&&(d.addEventListener("keydown",D?H:W,D),d.addEventListener("compositionstart",E),d.addEventListener("compositionend",y)),S&&d.addEventListener(f,B?w:K,B);let k=[];return T&&(G(o.domReference)&&(k=Me(o.domReference)),G(o.floating)&&(k=k.concat(Me(o.floating))),!G(o.reference)&&o.reference&&o.reference.contextElement&&(k=k.concat(Me(o.reference.contextElement)))),k=k.filter(R=>{var _;return R!==((_=d.defaultView)==null?void 0:_.visualViewport)}),k.forEach(R=>{R.addEventListener("scroll",N,{passive:!0})}),()=>{u&&(d.removeEventListener("keydown",D?H:W,D),d.removeEventListener("compositionstart",E),d.removeEventListener("compositionend",y)),S&&d.removeEventListener(f,B?w:K,B),k.forEach(R=>{R.removeEventListener("scroll",N)}),window.clearTimeout(C)}},[s,o,u,S,f,n,r,T,i,I,V,W,D,H,K,B,w]),a.useEffect(()=>{O.current=!1},[S,f]);const X=a.useMemo(()=>({onKeyDown:W,[En[b]]:C=>{p&&r(!1,C.nativeEvent,"reference-press")}}),[W,r,p,b]),$=a.useMemo(()=>({onKeyDown:W,onMouseDown(){g.current=!0},onMouseUp(){g.current=!0},[yn[f]]:()=>{O.current=!0}}),[W,f]);return a.useMemo(()=>i?{reference:X,floating:$}:{},[i,X,$])}function Rn(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=Ce(),s=a.useRef({}),[i]=a.useState(()=>un()),u=Ve()!=null,[v,f]=a.useState(r.reference),p=J((c,m,l)=>{s.current.openEvent=c?m:void 0,i.emit("openchange",{open:c,event:m,reason:l,nested:u}),n==null||n(c,m,l)}),b=a.useMemo(()=>({setPositionReference:f}),[]),T=a.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return a.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:T,events:i,floatingId:o,refs:b}),[e,p,T,i,o,b])}function Fn(t){t===void 0&&(t={});const{nodeId:e}=t,n=Rn({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[s,i]=a.useState(null),[u,v]=a.useState(null),p=(o==null?void 0:o.domReference)||s,b=a.useRef(null),T=Se();Z(()=>{p&&(b.current=p)},[p]);const c=Pt({...t,elements:{...o,...u&&{reference:u}}}),m=a.useCallback(g=>{const I=G(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;v(I),c.refs.setReference(I)},[c.refs]),l=a.useCallback(g=>{(G(g)||g===null)&&(b.current=g,i(g)),(G(c.refs.reference.current)||c.refs.reference.current===null||g!==null&&!G(g))&&c.refs.setReference(g)},[c.refs]),x=a.useMemo(()=>({...c.refs,setReference:l,setPositionReference:m,domReference:b}),[c.refs,l,m]),S=a.useMemo(()=>({...c.elements,domReference:p}),[c.elements,p]),O=a.useMemo(()=>({...c,...r,refs:x,elements:S,nodeId:e}),[c,x,S,e,r]);return Z(()=>{r.dataRef.current.floatingContext=O;const g=T==null?void 0:T.nodesRef.current.find(I=>I.id===e);g&&(g.context=O)}),a.useMemo(()=>({...c,context:O,refs:x,elements:S}),[c,x,S,O])}function Ln(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:o,dataRef:s,elements:i}=t,{enabled:u=!0,visibleOnly:v=!0}=e,f=a.useRef(!1),p=a.useRef(),b=a.useRef(!0);a.useEffect(()=>{if(!u)return;const c=St(i.domReference);function m(){!n&&ee(i.domReference)&&i.domReference===z(j(i.domReference))&&(f.current=!0)}function l(){b.current=!0}return c.addEventListener("blur",m),c.addEventListener("keydown",l,!0),()=>{c.removeEventListener("blur",m),c.removeEventListener("keydown",l,!0)}},[i.domReference,n,u]),a.useEffect(()=>{if(!u)return;function c(m){let{reason:l}=m;(l==="reference-press"||l==="escape-key")&&(f.current=!0)}return o.on("openchange",c),()=>{o.off("openchange",c)}},[o,u]),a.useEffect(()=>()=>{clearTimeout(p.current)},[]);const T=a.useMemo(()=>({onPointerDown(c){pt(c.nativeEvent)||(b.current=!1)},onMouseLeave(){f.current=!1},onFocus(c){if(f.current)return;const m=re(c.nativeEvent);if(v&&G(m))try{if(bt()&&Gt())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!b.current&&!We(m))return}r(!0,c.nativeEvent,"focus")},onBlur(c){f.current=!1;const m=c.relatedTarget,l=c.nativeEvent,x=G(m)&&m.hasAttribute(ie("focus-guard"))&&m.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var S;const O=z(i.domReference?i.domReference.ownerDocument:document);!m&&O===i.domReference||Y((S=s.current.floatingContext)==null?void 0:S.refs.floating.current,O)||Y(i.domReference,O)||x||r(!1,l,"focus")})}}),[s,i.domReference,r,v]);return a.useMemo(()=>u?{reference:T}:{},[u,T])}const ot="active",it="selected";function De(t,e,n){const r=new Map,o=n==="item";let s=t;if(o&&t){const{[ot]:i,[it]:u,...v}=t;s=v}return{...n==="floating"&&{tabIndex:-1,[Be]:""},...s,...e.map(i=>{const u=i?i[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((i,u)=>(u&&Object.entries(u).forEach(v=>{let[f,p]=v;if(!(o&&[ot,it].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof p=="function"){var b;(b=r.get(f))==null||b.push(p),i[f]=function(){for(var T,c=arguments.length,m=new Array(c),l=0;l<c;l++)m[l]=arguments[l];return(T=r.get(f))==null?void 0:T.map(x=>x(...m)).find(x=>x!==void 0)}}}else i[f]=p}),i),{})}}function Dn(t){t===void 0&&(t=[]);const e=t.map(u=>u==null?void 0:u.reference),n=t.map(u=>u==null?void 0:u.floating),r=t.map(u=>u==null?void 0:u.item),o=a.useCallback(u=>De(u,t,"reference"),e),s=a.useCallback(u=>De(u,t,"floating"),n),i=a.useCallback(u=>De(u,t,"item"),r);return a.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:i}),[o,s,i])}const wn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Nn(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:o}=t,{enabled:s=!0,role:i="dialog"}=e,u=(n=wn.get(i))!=null?n:i,v=Ce(),p=Ve()!=null,b=a.useMemo(()=>u==="tooltip"||i==="label"?{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":r?o:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:v},...u==="menu"&&p&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[u,o,p,r,v,i]),T=a.useMemo(()=>{const m={id:o,...u&&{role:u}};return u==="tooltip"||i==="label"?m:{...m,...u==="menu"&&{"aria-labelledby":v}}},[u,o,v,i]),c=a.useCallback(m=>{let{active:l,selected:x}=m;const S={role:"option",...l&&{id:o+"-option"}};switch(i){case"select":return{...S,"aria-selected":l&&x};case"combobox":return{...S,...l&&{"aria-selected":!0}}}return{}},[o,i]);return a.useMemo(()=>s?{reference:b,floating:T,item:c}:{},[s,b,T,c])}export{Pn as F,An as a,On as b,Nn as c,Dn as d,Ce as e,kn as f,Ln as g,Mn as h,In as i,Fn as u};
